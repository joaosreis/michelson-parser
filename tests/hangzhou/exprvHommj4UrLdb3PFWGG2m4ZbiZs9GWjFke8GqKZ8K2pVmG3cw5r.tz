{ storage
    (pair (pair (pair (nat %GGFees) (address %_euranov))
                (pair (address %admin)
                      (pair (big_map %auctions
                               address
                               (map nat
                                    (pair (pair (pair (nat %assetId) (nat %bidCount)) (pair (bool %claimed) (address %club)))
                                          (pair (pair (address %creator) (mutez %currentBidAmount))
                                                (pair (address %currentBidOwner) (pair (int %duration) (timestamp %startTime)))))))
                            (big_map %authorizedSC address bool))))
          (pair (pair (int %balance) (big_map %metadata string bytes))
                (pair (bool %paused)
                      (pair (map %selling
                               address
                               (big_map
                                  nat
                                  (pair (pair (address %club) (nat %fee)) (pair (address %owner) (mutez %price)))))
                            (address %tokenAddress))))) ;
  parameter
    (or (or (or (pair %acceptAuction (nat %_auctionId) (pair (address %caller) (nat %clubFee)))
                (or (pair %bid (nat %_auctionId) (address %caller))
                    (pair %buyNFT (address %caller) (nat %id))))
            (or (or (pair %cancelAuction (nat %_auctionId) (address %caller)) (address %cancelSC))
                (or (pair %cancelSelling (address %caller) (nat %id))
                    (pair %createAuction
                       (pair (nat %_assetId) (address %_club))
                       (pair (int %_duration) (pair (int %_startPrice) (address %caller)))))))
        (or (or (unit %pauseContract)
                (or (pair %putToSell
                       (pair (address %caller) (address %club))
                       (pair (nat %clubFee) (pair (nat %id) (nat %price))))
                    (address %registerSC)))
            (or (or (address %transferAdmin) (unit %unpauseContract))
                (or (address %updateEuranov) (nat %updateGGFees))))) ;
  code { CAST (pair (or (or (or (pair nat (pair address nat)) (or (pair nat address) (pair address nat)))
                            (or (or (pair nat address) address)
                                (or (pair address nat) (pair (pair nat address) (pair int (pair int address))))))
                        (or (or unit (or (pair (pair address address) (pair nat (pair nat nat))) address))
                            (or (or address unit) (or address nat))))
                    (pair (pair (pair nat address)
                                (pair address
                                      (pair (big_map
                                               address
                                               (map nat
                                                    (pair (pair (pair nat nat) (pair bool address))
                                                          (pair (pair address mutez) (pair address (pair int timestamp))))))
                                            (big_map address bool))))
                          (pair (pair int (big_map string bytes))
                                (pair bool
                                      (pair (map address (big_map nat (pair (pair address nat) (pair address mutez)))) address))))) ;
         UNPAIR ;
         IF_LEFT
           { IF_LEFT
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     GET 6 ;
                     SENDER ;
                     GET ;
                     IF_NONE { PUSH int 190 ; FAILWITH } {} ;
                     IF {} { PUSH string "engine: not auth" ; FAILWITH } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     GET 5 ;
                     SENDER ;
                     GET ;
                     IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                     GET 8 ;
                     PUSH int 60 ;
                     DUP 4 ;
                     CAR ;
                     GET 5 ;
                     SENDER ;
                     GET ;
                     IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                     DUP 4 ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                     GET 7 ;
                     MUL ;
                     ADD ;
                     NOW ;
                     COMPARE ;
                     GT ;
                     IF { SWAP ;
                          DUP ;
                          DUG 2 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                          SWAP ;
                          DUP ;
                          DUG 2 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                          CAR ;
                          GET 3 ;
                          NOT }
                        { PUSH bool False } ;
                     IF {} { PUSH string "Can't finalize auction yet" ; FAILWITH } ;
                     DUP ;
                     GET 3 ;
                     DUP 3 ;
                     CAR ;
                     GET 5 ;
                     SENDER ;
                     GET ;
                     IF_NONE { PUSH int 192 ; FAILWITH } {} ;
                     DUP 3 ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 192 ; FAILWITH } {} ;
                     GET 3 ;
                     CAR ;
                     COMPARE ;
                     EQ ;
                     IF { PUSH bool True }
                        { DUP ; GET 3 ; DUP 3 ; CAR ; GET 3 ; COMPARE ; EQ } ;
                     IF {} { PUSH string "Not your auction" ; FAILWITH } ;
                     SWAP ;
                     UNPAIR ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     DUP ;
                     SENDER ;
                     DUP ;
                     DUG 2 ;
                     GET ;
                     IF_NONE { PUSH int 194 ; FAILWITH } {} ;
                     DUP ;
                     DUP 9 ;
                     CAR ;
                     DUP ;
                     DUG 2 ;
                     GET ;
                     IF_NONE { PUSH int 194 ; FAILWITH } {} ;
                     UNPAIR ;
                     UNPAIR ;
                     SWAP ;
                     CDR ;
                     PUSH bool True ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     SOME ;
                     SWAP ;
                     UPDATE ;
                     SOME ;
                     SWAP ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     SWAP ;
                     PUSH nat 0 ;
                     DUP 3 ;
                     CAR ;
                     GET 5 ;
                     SENDER ;
                     GET ;
                     IF_NONE { PUSH int 195 ; FAILWITH } {} ;
                     DUP 3 ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 195 ; FAILWITH } {} ;
                     CAR ;
                     CAR ;
                     CDR ;
                     COMPARE ;
                     NEQ ;
                     IF { NIL operation ;
                          DUP 3 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 197 ; FAILWITH } {} ;
                          DUP 3 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 197 ; FAILWITH } {} ;
                          GET 3 ;
                          CAR ;
                          CONTRACT unit ;
                          IF_NONE { PUSH int 197 ; FAILWITH } {} ;
                          PUSH nat 100 ;
                          DUP 5 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 197 ; FAILWITH } {} ;
                          DUP 5 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 197 ; FAILWITH } {} ;
                          GET 3 ;
                          CDR ;
                          DUP 5 ;
                          GET 4 ;
                          DUP 7 ;
                          CAR ;
                          CAR ;
                          CAR ;
                          PUSH nat 100 ;
                          SUB ;
                          ISNAT ;
                          IF_NONE { PUSH int 197 ; FAILWITH } {} ;
                          SUB ;
                          ISNAT ;
                          IF_NONE { PUSH int 197 ; FAILWITH } {} ;
                          MUL ;
                          EDIV ;
                          IF_NONE { PUSH int 197 ; FAILWITH } {} ;
                          CAR ;
                          UNIT ;
                          TRANSFER_TOKENS ;
                          CONS ;
                          DUP 3 ;
                          CAR ;
                          CAR ;
                          CDR ;
                          CONTRACT unit ;
                          IF_NONE { PUSH int 199 ; FAILWITH } {} ;
                          PUSH nat 100 ;
                          DUP 5 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 199 ; FAILWITH } {} ;
                          DUP 5 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 199 ; FAILWITH } {} ;
                          GET 3 ;
                          CDR ;
                          DUP 6 ;
                          CAR ;
                          CAR ;
                          CAR ;
                          MUL ;
                          EDIV ;
                          IF_NONE { PUSH int 199 ; FAILWITH } {} ;
                          CAR ;
                          UNIT ;
                          TRANSFER_TOKENS ;
                          CONS ;
                          DUP 3 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 201 ; FAILWITH } {} ;
                          DUP 3 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 201 ; FAILWITH } {} ;
                          CAR ;
                          GET 4 ;
                          CONTRACT unit ;
                          IF_NONE { PUSH int 201 ; FAILWITH } {} ;
                          PUSH nat 100 ;
                          DUP 5 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 201 ; FAILWITH } {} ;
                          DUP 5 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 201 ; FAILWITH } {} ;
                          GET 3 ;
                          CDR ;
                          DUP 5 ;
                          GET 4 ;
                          MUL ;
                          EDIV ;
                          IF_NONE { PUSH int 201 ; FAILWITH } {} ;
                          CAR ;
                          UNIT ;
                          TRANSFER_TOKENS ;
                          CONS }
                        { NIL operation } ;
                     PUSH nat 1000000000000 ;
                     PUSH mutez 1 ;
                     DUP 5 ;
                     CAR ;
                     GET 5 ;
                     SENDER ;
                     GET ;
                     IF_NONE { PUSH int 205 ; FAILWITH } {} ;
                     DUP 5 ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 205 ; FAILWITH } {} ;
                     GET 3 ;
                     CDR ;
                     EDIV ;
                     IF_NONE { UNIT ; FAILWITH } {} ;
                     CAR ;
                     MUL ;
                     INT ;
                     DUP 4 ;
                     GET 3 ;
                     CAR ;
                     COMPARE ;
                     GE ;
                     IF { DUP 3 ;
                          GET 8 ;
                          CONTRACT %transfer (pair address (pair address nat)) ;
                          IF_NONE { PUSH int 207 ; FAILWITH } {} ;
                          PUSH mutez 0 ;
                          PUSH nat 1000000000000 ;
                          PUSH mutez 1 ;
                          DUP 7 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 205 ; FAILWITH } {} ;
                          DUP 7 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 205 ; FAILWITH } {} ;
                          GET 3 ;
                          CDR ;
                          EDIV ;
                          IF_NONE { UNIT ; FAILWITH } {} ;
                          CAR ;
                          MUL ;
                          DUP 6 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 209 ; FAILWITH } {} ;
                          DUP 6 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 209 ; FAILWITH } {} ;
                          GET 5 ;
                          SELF_ADDRESS ;
                          PAIR 3 ;
                          TRANSFER_TOKENS ;
                          CONS ;
                          DUP 3 ;
                          UNPAIR ;
                          SWAP ;
                          UNPAIR ;
                          UNPAIR ;
                          PUSH nat 1000000000000 ;
                          PUSH mutez 1 ;
                          DIG 8 ;
                          CAR ;
                          GET 5 ;
                          SENDER ;
                          GET ;
                          IF_NONE { PUSH int 205 ; FAILWITH } {} ;
                          DIG 8 ;
                          CAR ;
                          GET ;
                          IF_NONE { PUSH int 205 ; FAILWITH } {} ;
                          GET 3 ;
                          CDR ;
                          EDIV ;
                          IF_NONE { UNIT ; FAILWITH } {} ;
                          CAR ;
                          MUL ;
                          INT ;
                          SWAP ;
                          SUB ;
                          PAIR ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          SWAP }
                        { SWAP ; DROP } }
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         GET 5 ;
                         IF { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } {} ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 5 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 178 ; FAILWITH } {} ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET ;
                         IF_NONE { PUSH int 178 ; FAILWITH } {} ;
                         GET 8 ;
                         PUSH int 60 ;
                         DUP 4 ;
                         CAR ;
                         GET 5 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 178 ; FAILWITH } {} ;
                         DUP 4 ;
                         CAR ;
                         GET ;
                         IF_NONE { PUSH int 178 ; FAILWITH } {} ;
                         GET 7 ;
                         MUL ;
                         ADD ;
                         NOW ;
                         COMPARE ;
                         LT ;
                         IF {} { PUSH string "Not active" ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 6 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 164 ; FAILWITH } {} ;
                         IF {} { PUSH string "engine: not auth" ; FAILWITH } ;
                         DUP ;
                         CDR ;
                         DUP 3 ;
                         CAR ;
                         GET 5 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 165 ; FAILWITH } {} ;
                         DUP 3 ;
                         CAR ;
                         GET ;
                         IF_NONE { PUSH int 165 ; FAILWITH } {} ;
                         GET 3 ;
                         CAR ;
                         COMPARE ;
                         EQ ;
                         IF { PUSH string "It is your token" ; FAILWITH } {} ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 5 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 166 ; FAILWITH } {} ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET ;
                         IF_NONE { PUSH int 166 ; FAILWITH } {} ;
                         GET 3 ;
                         CDR ;
                         AMOUNT ;
                         COMPARE ;
                         GT ;
                         IF {}
                            { PUSH string
                                   "WrongCondition: sp.amount > self.data.auctions[sp.sender][params._auctionId].currentBidAmount" ;
                              FAILWITH } ;
                         PUSH nat 0 ;
                         DUP 3 ;
                         CAR ;
                         GET 5 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 168 ; FAILWITH } {} ;
                         DUP 3 ;
                         CAR ;
                         GET ;
                         IF_NONE { PUSH int 168 ; FAILWITH } {} ;
                         CAR ;
                         CAR ;
                         CDR ;
                         COMPARE ;
                         NEQ ;
                         IF { NIL operation ;
                              DUP 3 ;
                              CAR ;
                              GET 5 ;
                              SENDER ;
                              GET ;
                              IF_NONE { PUSH int 170 ; FAILWITH } {} ;
                              DUP 3 ;
                              CAR ;
                              GET ;
                              IF_NONE { PUSH int 170 ; FAILWITH } {} ;
                              GET 5 ;
                              CONTRACT unit ;
                              IF_NONE { PUSH int 170 ; FAILWITH } {} ;
                              DUP 4 ;
                              CAR ;
                              GET 5 ;
                              SENDER ;
                              GET ;
                              IF_NONE { PUSH int 170 ; FAILWITH } {} ;
                              DUP 4 ;
                              CAR ;
                              GET ;
                              IF_NONE { PUSH int 170 ; FAILWITH } {} ;
                              GET 3 ;
                              CDR ;
                              UNIT ;
                              TRANSFER_TOKENS ;
                              CONS }
                            { NIL operation } ;
                         DIG 2 ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         DUP ;
                         SENDER ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 173 ; FAILWITH } {} ;
                         DUP ;
                         DUP 10 ;
                         CAR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 173 ; FAILWITH } {} ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         CAR ;
                         AMOUNT ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         DUP ;
                         SENDER ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 174 ; FAILWITH } {} ;
                         DUP ;
                         DUP 10 ;
                         CAR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 174 ; FAILWITH } {} ;
                         DUP 11 ;
                         CDR ;
                         UPDATE 5 ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         DUP ;
                         SENDER ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 175 ; FAILWITH } {} ;
                         DUP ;
                         DIG 9 ;
                         CAR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 175 ; FAILWITH } {} ;
                         UNPAIR ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         PUSH nat 1 ;
                         ADD ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         SWAP }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         GET 5 ;
                         IF { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } {} ;
                         AMOUNT ;
                         DUP 3 ;
                         GET 7 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 115 ; FAILWITH } {} ;
                         DUP 3 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 115 ; FAILWITH } {} ;
                         GET 4 ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "Not the price" ; FAILWITH } ;
                         DUP ;
                         CAR ;
                         DUP 3 ;
                         GET 7 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 116 ; FAILWITH } {} ;
                         DUP 3 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 116 ; FAILWITH } {} ;
                         GET 3 ;
                         COMPARE ;
                         EQ ;
                         IF { PUSH string "It is your token" ; FAILWITH } {} ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 6 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 117 ; FAILWITH } {} ;
                         IF {} { PUSH string "engine: not auth" ; FAILWITH } ;
                         NIL operation ;
                         DUP 3 ;
                         GET 7 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 120 ; FAILWITH } {} ;
                         DUP 3 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 120 ; FAILWITH } {} ;
                         GET 3 ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 120 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         AMOUNT ;
                         DUP 6 ;
                         GET 7 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 120 ; FAILWITH } {} ;
                         DUP 6 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 120 ; FAILWITH } {} ;
                         CAR ;
                         CDR ;
                         DUP 7 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         PUSH nat 100 ;
                         SUB ;
                         ISNAT ;
                         IF_NONE { PUSH int 120 ; FAILWITH } {} ;
                         SUB ;
                         ISNAT ;
                         IF_NONE { PUSH int 120 ; FAILWITH } {} ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 120 ; FAILWITH } {} ;
                         CAR ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         DUP 3 ;
                         CAR ;
                         CAR ;
                         CDR ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 121 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         AMOUNT ;
                         DUP 6 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 121 ; FAILWITH } {} ;
                         CAR ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         DUP 3 ;
                         GET 7 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 122 ; FAILWITH } {} ;
                         DUP 3 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 122 ; FAILWITH } {} ;
                         CAR ;
                         CAR ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 122 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         AMOUNT ;
                         DUP 6 ;
                         GET 7 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 122 ; FAILWITH } {} ;
                         DUP 6 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 122 ; FAILWITH } {} ;
                         CAR ;
                         CDR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 122 ; FAILWITH } {} ;
                         CAR ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         DIG 2 ;
                         DUP ;
                         GET 7 ;
                         DUP ;
                         SENDER ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 124 ; FAILWITH } {} ;
                         NONE (pair (pair address nat) (pair address mutez)) ;
                         DUP 7 ;
                         CDR ;
                         UPDATE ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         UPDATE 7 ;
                         DUG 2 ;
                         PUSH nat 1000000000000 ;
                         PUSH mutez 1 ;
                         AMOUNT ;
                         EDIV ;
                         IF_NONE { UNIT ; FAILWITH } {} ;
                         CAR ;
                         MUL ;
                         INT ;
                         DUP 4 ;
                         GET 3 ;
                         CAR ;
                         COMPARE ;
                         GE ;
                         IF { DUP 3 ;
                              GET 8 ;
                              CONTRACT %transfer (pair address (pair address nat)) ;
                              IF_NONE { PUSH int 129 ; FAILWITH } {} ;
                              PUSH mutez 0 ;
                              PUSH nat 1000000000000 ;
                              PUSH mutez 1 ;
                              AMOUNT ;
                              EDIV ;
                              IF_NONE { UNIT ; FAILWITH } {} ;
                              CAR ;
                              MUL ;
                              DIG 4 ;
                              CAR ;
                              SELF_ADDRESS ;
                              PAIR 3 ;
                              TRANSFER_TOKENS ;
                              CONS ;
                              SWAP ;
                              UNPAIR ;
                              SWAP ;
                              UNPAIR ;
                              UNPAIR ;
                              PUSH nat 1000000000000 ;
                              PUSH mutez 1 ;
                              AMOUNT ;
                              EDIV ;
                              IF_NONE { UNIT ; FAILWITH } {} ;
                              CAR ;
                              MUL ;
                              INT ;
                              SWAP ;
                              SUB ;
                              PAIR ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SWAP }
                            { SWAP ; DROP } } } }
               { IF_LEFT
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 6 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 217 ; FAILWITH } {} ;
                         IF {} { PUSH string "engine: not auth" ; FAILWITH } ;
                         DUP ;
                         CDR ;
                         DUP 3 ;
                         CAR ;
                         GET 3 ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "Not admin" ; FAILWITH } ;
                         SWAP ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         DUP ;
                         SENDER ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 219 ; FAILWITH } {} ;
                         DUP ;
                         DUP 9 ;
                         CAR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 219 ; FAILWITH } {} ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         CDR ;
                         PUSH bool True ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         SWAP ;
                         PUSH nat 0 ;
                         DUP 3 ;
                         CAR ;
                         GET 5 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 220 ; FAILWITH } {} ;
                         DUP 3 ;
                         CAR ;
                         GET ;
                         IF_NONE { PUSH int 220 ; FAILWITH } {} ;
                         CAR ;
                         CAR ;
                         CDR ;
                         COMPARE ;
                         NEQ ;
                         IF { NIL operation ;
                              DUP 3 ;
                              CAR ;
                              GET 5 ;
                              SENDER ;
                              GET ;
                              IF_NONE { PUSH int 222 ; FAILWITH } {} ;
                              DUP 3 ;
                              CAR ;
                              GET ;
                              IF_NONE { PUSH int 222 ; FAILWITH } {} ;
                              GET 5 ;
                              CONTRACT unit ;
                              IF_NONE { PUSH int 222 ; FAILWITH } {} ;
                              DUP 4 ;
                              CAR ;
                              GET 5 ;
                              SENDER ;
                              GET ;
                              IF_NONE { PUSH int 222 ; FAILWITH } {} ;
                              DIG 3 ;
                              CAR ;
                              GET ;
                              IF_NONE { PUSH int 222 ; FAILWITH } {} ;
                              GET 3 ;
                              CDR ;
                              UNIT ;
                              TRANSFER_TOKENS ;
                              CONS }
                            { DROP ; NIL operation } }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 3 ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "Not admin" ; FAILWITH } ;
                         SWAP ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         PUSH (option bool) (Some False) ;
                         DUP 7 ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         DUP ;
                         GET 7 ;
                         NONE (big_map nat (pair (pair address nat) (pair address mutez))) ;
                         DUP 4 ;
                         UPDATE ;
                         UPDATE 7 ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         NONE (map nat
                                   (pair (pair (pair nat nat) (pair bool address))
                                         (pair (pair address mutez) (pair address (pair int timestamp))))) ;
                         DIG 6 ;
                         UPDATE ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         NIL operation } }
                   { IF_LEFT
                       { DUP ;
                         CAR ;
                         DUP 3 ;
                         GET 7 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 106 ; FAILWITH } {} ;
                         DUP 3 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 106 ; FAILWITH } {} ;
                         GET 3 ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "It is not your token" ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 6 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 107 ; FAILWITH } {} ;
                         IF {} { PUSH string "engine: not auth" ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         GET 7 ;
                         DUP ;
                         SENDER ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 108 ; FAILWITH } {} ;
                         NONE (pair (pair address nat) (pair address mutez)) ;
                         DIG 5 ;
                         CDR ;
                         UPDATE ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         UPDATE 7 }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         GET 5 ;
                         IF { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } {} ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 6 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 145 ; FAILWITH } {} ;
                         IF {} { PUSH string "engine: not auth" ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         DUP ;
                         SENDER ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 148 ; FAILWITH } {} ;
                         NOW ;
                         DUP 9 ;
                         GET 3 ;
                         PAIR ;
                         DUP 9 ;
                         GET 6 ;
                         PAIR ;
                         PUSH mutez 1 ;
                         DUP 10 ;
                         GET 5 ;
                         ISNAT ;
                         IF_NONE { PUSH int 148 ; FAILWITH } {} ;
                         MUL ;
                         DUP 10 ;
                         GET 6 ;
                         PAIR ;
                         PAIR ;
                         DUP 9 ;
                         CAR ;
                         CDR ;
                         PUSH bool False ;
                         PAIR ;
                         PUSH nat 0 ;
                         DIG 10 ;
                         CAR ;
                         CAR ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         SOME ;
                         DIG 8 ;
                         CAR ;
                         GET 5 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 147 ; FAILWITH } {} ;
                         SIZE ;
                         UPDATE ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR } ;
                     NIL operation } } }
           { IF_LEFT
               { IF_LEFT
                   { DROP ;
                     DUP ;
                     CAR ;
                     GET 3 ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {} { PUSH string "Not admin" ; FAILWITH } ;
                     PUSH bool True ;
                     UPDATE 5 }
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 6 ;
                         SENDER ;
                         GET ;
                         IF_NONE { PUSH int 97 ; FAILWITH } {} ;
                         IF {} { PUSH string "engine: not auth" ; FAILWITH } ;
                         DUP ;
                         GET 6 ;
                         PUSH nat 0 ;
                         COMPARE ;
                         LT ;
                         IF {} { PUSH string "Price invalid" ; FAILWITH } ;
                         DUP ;
                         GET 3 ;
                         PUSH nat 1 ;
                         SWAP ;
                         COMPARE ;
                         GE ;
                         IF { DUP ; GET 3 ; PUSH nat 20 ; SWAP ; COMPARE ; LE }
                            { PUSH bool False } ;
                         IF {} { PUSH string "Fee invalid" ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         GET 7 ;
                         DUP ;
                         SENDER ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 100 ; FAILWITH } {} ;
                         PUSH mutez 1 ;
                         DUP 6 ;
                         GET 6 ;
                         MUL ;
                         DUP 6 ;
                         CAR ;
                         CAR ;
                         PAIR ;
                         DIG 5 ;
                         DUP ;
                         GET 3 ;
                         SWAP ;
                         DUP ;
                         DUG 7 ;
                         CAR ;
                         CDR ;
                         PAIR ;
                         PAIR ;
                         SOME ;
                         DIG 5 ;
                         GET 5 ;
                         UPDATE ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         UPDATE 7 }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 3 ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "Not admin" ; FAILWITH } ;
                         SWAP ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         PUSH (option bool) (Some True) ;
                         DUP 7 ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         DUP ;
                         GET 7 ;
                         EMPTY_BIG_MAP nat (pair (pair address nat) (pair address mutez)) ;
                         SOME ;
                         DUP 4 ;
                         UPDATE ;
                         UPDATE 7 ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         SWAP ;
                         UNPAIR ;
                         PUSH (option
                                 (map nat
                                      (pair (pair (pair nat nat) (pair bool address))
                                            (pair (pair address mutez) (pair address (pair int timestamp))))))
                              (Some {}) ;
                         DIG 6 ;
                         UPDATE ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR } } }
               { IF_LEFT
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 3 ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "Not admin" ; FAILWITH } ;
                         SWAP ;
                         UNPAIR ;
                         UNPAIR ;
                         SWAP ;
                         CDR ;
                         DIG 3 ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR }
                       { DROP ;
                         DUP ;
                         CAR ;
                         GET 3 ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "Not admin" ; FAILWITH } ;
                         PUSH bool False ;
                         UPDATE 5 } }
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 3 ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "Not admin" ; FAILWITH } ;
                         SWAP ;
                         UNPAIR ;
                         UNPAIR ;
                         CAR ;
                         DIG 3 ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         PAIR }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         GET 3 ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH string "Not admin" ; FAILWITH } ;
                         SWAP ;
                         UNPAIR ;
                         UNPAIR ;
                         CDR ;
                         DIG 3 ;
                         PAIR ;
                         PAIR ;
                         PAIR } } } ;
             NIL operation } ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         PAIR } }
