{ parameter unit ;
  storage (pair (address %coin_address) (address %pool_address)) ;
  code { CDR ;
         DUP ;
         NIL operation ;
         DIG 2 ;
         DUP ;
         DUG 3 ;
         CAR ;
         CONTRACT %burn (pair (address %spender) (nat %value)) ;
         IF_NONE
           { PUSH string "Burner/token-burn-entrypoint-not-found" ; FAILWITH }
           {} ;
         PUSH mutez 0 ;
         PUSH nat 0 ;
         SELF ;
         ADDRESS ;
         PAIR ;
         TRANSFER_TOKENS ;
         CONS ;
         DIG 2 ;
         CDR ;
         CONTRACT %use
           (or (or (or (pair %divestLiquidity (pair (nat %min_tez) (nat %min_tokens)) (nat %shares))
                       (nat %initializeExchange))
                   (or (nat %investLiquidity)
                       (pair %tezToTokenPayment (nat %min_out) (address %receiver))))
               (or (or (pair %tokenToTezPayment (pair (nat %amount) (nat %min_out)) (address %receiver))
                       (pair %veto (nat %value) (address %voter)))
                   (or (pair %vote (pair (key_hash %candidate) (nat %value)) (address %voter))
                       (address %withdrawProfit)))) ;
         IF_NONE
           { PUSH string "Common/qp-pool-use-entrypoint-not-found" ; FAILWITH }
           {} ;
         AMOUNT ;
         SELF ;
         ADDRESS ;
         PUSH nat 1 ;
         PAIR ;
         RIGHT nat ;
         RIGHT (or (pair (pair nat nat) nat) nat) ;
         LEFT (or (or (pair (pair nat nat) address) (pair nat address))
                  (or (pair (pair key_hash nat) address) address)) ;
         TRANSFER_TOKENS ;
         CONS ;
         PAIR } }
