{ storage
    (pair (pair (pair (pair (pair (address %administrator) (list %all_series nat))
                            (pair (set %all_tokens nat) (bool %allow_migration)))
                      (pair (pair (pair %claims
                                     (pair (pair (nat %claim_cnt) (pair (mutez %claim_pack_price) (nat %claim_pack_size)))
                                           (pair (map %claimable nat nat)
                                                 (pair (big_map %claimers address nat) (mutez %claiming_price))))
                                     (pair (pair (nat %cur_claim_key)
                                                 (pair (nat %max_claims_per_period) (nat %max_free_claims_per_addr)))
                                           (pair (pair (nat %max_paid_claims_per_addr) (map %patriots address nat))
                                                 (pair (int %period_len) (timestamp %period_start)))))
                                  (address %distributor))
                            (pair (big_map %ledger (pair address nat) nat) (address %manager))))
                (pair (pair (pair (big_map %metadata string bytes)
                                  (big_map %operators
                                     (pair (address %owner) (pair (address %operator) (nat %token_id)))
                                     unit))
                            (pair (bool %paused)
                                  (big_map %series
                                     nat
                                     (pair (pair (bool %claimable)
                                                 (map %levels
                                                    nat
                                                    (pair (pair (nat %burned) (nat %minted))
                                                          (pair (nat %rarity) (map %token_info string bytes)))))
                                           (pair (nat %packs) (nat %series_id))))))
                      (pair (pair (map %series_meta
                                     nat
                                     (pair (nat %cap) (pair (mutez %upgrade_cost) (nat %upgrade_req))))
                                  (big_map %token_metadata nat (pair (nat %token_id) (map %token_info string bytes))))
                            (pair (big_map %total_supply nat nat) (pair (nat %treasure_fee) (address %treasury))))))
          (big_map
             nat
             (lambda
                (pair (or (or (or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) unit)
                                  (or nat unit))
                              (or (or (list (pair (pair bool (map nat (pair (pair nat nat) (pair nat (map string bytes))))) (pair nat nat)))
                                      unit)
                                  (or (pair (list (pair address (pair nat nat))) string)
                                      (or (pair (pair address nat) (pair (map string bytes) nat)) address))))
                          (or (or (or (pair (pair mutez (pair mutez nat)) (pair (pair nat nat) (pair int timestamp)))
                                      (pair string bytes))
                                  (or bool (or nat (list (pair address (list (pair address (pair nat nat))))))))
                              (or (or address (pair nat (map string bytes)))
                                  (or (list (or (pair address (pair address nat)) (pair address (pair address nat))))
                                      (or (list address) nat)))))
                      (pair (pair (pair (pair address (list nat)) (pair (set nat) bool))
                                  (pair (pair (pair (pair (pair nat (pair mutez nat)) (pair (map nat nat) (pair (big_map address nat) mutez)))
                                                    (pair (pair nat (pair nat nat)) (pair (pair nat (map address nat)) (pair int timestamp))))
                                              address)
                                        (pair (big_map (pair address nat) nat) address)))
                            (pair (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit))
                                        (pair bool
                                              (big_map
                                                 nat
                                                 (pair (pair bool (map nat (pair (pair nat nat) (pair nat (map string bytes))))) (pair nat nat)))))
                                  (pair (pair (map nat (pair nat (pair mutez nat))) (big_map nat (pair nat (map string bytes))))
                                        (pair (big_map nat nat) (pair nat address))))))
                (pair (list operation)
                      (pair (pair (pair (pair address (list nat)) (pair (set nat) bool))
                                  (pair (pair (pair (pair (pair nat (pair mutez nat)) (pair (map nat nat) (pair (big_map address nat) mutez)))
                                                    (pair (pair nat (pair nat nat)) (pair (pair nat (map address nat)) (pair int timestamp))))
                                              address)
                                        (pair (big_map (pair address nat) nat) address)))
                            (pair (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit))
                                        (pair bool
                                              (big_map
                                                 nat
                                                 (pair (pair bool (map nat (pair (pair nat nat) (pair nat (map string bytes))))) (pair nat nat)))))
                                  (pair (pair (map nat (pair nat (pair mutez nat))) (big_map nat (pair nat (map string bytes))))
                                        (pair (big_map nat nat) (pair nat address))))))))) ;
  parameter
    (or (or (or (or (pair %balance_of
                       (list %requests (pair (address %owner) (nat %token_id)))
                       (contract %callback
                          (list (pair (pair %request (address %owner) (nat %token_id)) (nat %balance)))))
                    (unit %claim))
                (or (nat %claim_pack) (unit %claim_paid)))
            (or (or (list %create_series
                       (pair (pair (bool %claimable)
                                   (map %levels
                                      nat
                                      (pair (pair (nat %burned) (nat %minted))
                                            (pair (nat %rarity) (map %token_info string bytes)))))
                             (pair (nat %packs) (nat %series_id))))
                    (unit %lock_migration))
                (or (pair %migrate_data
                       (list %entries (pair (address %address) (pair (nat %amount) (nat %token_id))))
                       (string %type))
                    (or (pair %mint
                           (pair (address %address) (nat %amount))
                           (pair (map %metadata string bytes) (nat %token_id)))
                        (address %set_administrator)))))
        (or (or (or (pair %set_claim_meta
                       (pair (mutez %claim_pack_price)
                             (pair (mutez %claiming_price) (nat %max_claims_per_period)))
                       (pair (pair (nat %max_free_claims_per_addr) (nat %max_paid_claims_per_addr))
                             (pair (int %period_len) (timestamp %period_start))))
                    (pair %set_metadata (string %k) (bytes %v)))
                (or (bool %set_pause)
                    (or (nat %set_treasure_params)
                        (list %transfer
                           (pair (address %from_)
                                 (list %txs (pair (address %to_) (pair (nat %token_id) (nat %amount)))))))))
            (or (or (address %update_manager)
                    (pair %update_metadata (nat %token_id) (map %token_info string bytes)))
                (or (list %update_operators
                       (or (pair %add_operator (address %owner) (pair (address %operator) (nat %token_id)))
                           (pair %remove_operator (address %owner) (pair (address %operator) (nat %token_id)))))
                    (or (list %update_whitelist address) (nat %upgrade)))))) ;
  code { CAST (pair (or (or (or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) unit)
                                (or nat unit))
                            (or (or (list (pair (pair bool (map nat (pair (pair nat nat) (pair nat (map string bytes))))) (pair nat nat)))
                                    unit)
                                (or (pair (list (pair address (pair nat nat))) string)
                                    (or (pair (pair address nat) (pair (map string bytes) nat)) address))))
                        (or (or (or (pair (pair mutez (pair mutez nat)) (pair (pair nat nat) (pair int timestamp)))
                                    (pair string bytes))
                                (or bool (or nat (list (pair address (list (pair address (pair nat nat))))))))
                            (or (or address (pair nat (map string bytes)))
                                (or (list (or (pair address (pair address nat)) (pair address (pair address nat))))
                                    (or (list address) nat)))))
                    (pair (pair (pair (pair (pair address (list nat)) (pair (set nat) bool))
                                      (pair (pair (pair (pair (pair nat (pair mutez nat)) (pair (map nat nat) (pair (big_map address nat) mutez)))
                                                        (pair (pair nat (pair nat nat)) (pair (pair nat (map address nat)) (pair int timestamp))))
                                                  address)
                                            (pair (big_map (pair address nat) nat) address)))
                                (pair (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit))
                                            (pair bool
                                                  (big_map
                                                     nat
                                                     (pair (pair bool (map nat (pair (pair nat nat) (pair nat (map string bytes))))) (pair nat nat)))))
                                      (pair (pair (map nat (pair nat (pair mutez nat))) (big_map nat (pair nat (map string bytes))))
                                            (pair (big_map nat nat) (pair nat address)))))
                          (big_map
                             nat
                             (lambda
                                (pair (or (or (or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) unit)
                                                  (or nat unit))
                                              (or (or (list (pair (pair bool (map nat (pair (pair nat nat) (pair nat (map string bytes))))) (pair nat nat)))
                                                      unit)
                                                  (or (pair (list (pair address (pair nat nat))) string)
                                                      (or (pair (pair address nat) (pair (map string bytes) nat)) address))))
                                          (or (or (or (pair (pair mutez (pair mutez nat)) (pair (pair nat nat) (pair int timestamp)))
                                                      (pair string bytes))
                                                  (or bool (or nat (list (pair address (list (pair address (pair nat nat))))))))
                                              (or (or address (pair nat (map string bytes)))
                                                  (or (list (or (pair address (pair address nat)) (pair address (pair address nat))))
                                                      (or (list address) nat)))))
                                      (pair (pair (pair (pair address (list nat)) (pair (set nat) bool))
                                                  (pair (pair (pair (pair (pair nat (pair mutez nat)) (pair (map nat nat) (pair (big_map address nat) mutez)))
                                                                    (pair (pair nat (pair nat nat)) (pair (pair nat (map address nat)) (pair int timestamp))))
                                                              address)
                                                        (pair (big_map (pair address nat) nat) address)))
                                            (pair (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit))
                                                        (pair bool
                                                              (big_map
                                                                 nat
                                                                 (pair (pair bool (map nat (pair (pair nat nat) (pair nat (map string bytes))))) (pair nat nat)))))
                                                  (pair (pair (map nat (pair nat (pair mutez nat))) (big_map nat (pair nat (map string bytes))))
                                                        (pair (big_map nat nat) (pair nat address))))))
                                (pair (list operation)
                                      (pair (pair (pair (pair address (list nat)) (pair (set nat) bool))
                                                  (pair (pair (pair (pair (pair nat (pair mutez nat)) (pair (map nat nat) (pair (big_map address nat) mutez)))
                                                                    (pair (pair nat (pair nat nat)) (pair (pair nat (map address nat)) (pair int timestamp))))
                                                              address)
                                                        (pair (big_map (pair address nat) nat) address)))
                                            (pair (pair (pair (big_map string bytes) (big_map (pair address (pair address nat)) unit))
                                                        (pair bool
                                                              (big_map
                                                                 nat
                                                                 (pair (pair bool (map nat (pair (pair nat nat) (pair nat (map string bytes))))) (pair nat nat)))))
                                                  (pair (pair (map nat (pair nat (pair mutez nat))) (big_map nat (pair nat (map string bytes))))
                                                        (pair (big_map nat nat) (pair nat address)))))))))) ;
         UNPAIR 3 ;
         DUP ;
         IF_LEFT
           { IF_LEFT
               { IF_LEFT
                   { IF_LEFT { DROP ; PUSH nat 0 } { DROP ; PUSH nat 1 } }
                   { IF_LEFT { DROP ; PUSH nat 2 } { DROP ; PUSH nat 3 } } }
               { IF_LEFT
                   { IF_LEFT { DROP ; PUSH nat 4 } { DROP ; PUSH nat 5 } }
                   { IF_LEFT
                       { DROP ; PUSH nat 6 }
                       { IF_LEFT { DROP ; PUSH nat 7 } { DROP ; PUSH nat 8 } } } } }
           { IF_LEFT
               { IF_LEFT
                   { IF_LEFT { DROP ; PUSH nat 9 } { DROP ; PUSH nat 10 } }
                   { IF_LEFT
                       { DROP ; PUSH nat 11 }
                       { IF_LEFT { DROP ; PUSH nat 12 } { DROP ; PUSH nat 13 } } } }
               { IF_LEFT
                   { IF_LEFT { DROP ; PUSH nat 14 } { DROP ; PUSH nat 15 } }
                   { IF_LEFT
                       { DROP ; PUSH nat 16 }
                       { IF_LEFT { DROP ; PUSH nat 17 } { DROP ; PUSH nat 18 } } } } } ;
         DUP 4 ;
         SWAP ;
         GET ;
         IF_NONE { PUSH int -1 ; FAILWITH } {} ;
         DUG 2 ;
         PAIR ;
         EXEC ;
         UNPAIR ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         DUG 2 ;
         PAIR ;
         SWAP ;
         PAIR } }
