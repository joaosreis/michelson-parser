{ storage
    (pair (pair (pair (pair (address %administrator) (nat %all_tokens))
                      (pair (big_map %ledger address nat)
                            (pair (big_map %metadata string bytes) (big_map %onchain_data string bytes))))
                (pair (pair (big_map %onchain_data_types string string)
                            (big_map %operators
                               (pair (address %owner) (pair (address %operator) (nat %token_id)))
                               unit))
                      (pair (bool %paused)
                            (pair (big_map %token_metadata nat (pair (nat %token_id) (map %token_info string bytes)))
                                  (big_map %total_supply nat nat)))))
          (big_map
             nat
             (lambda
                (pair (or (or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) string)
                              (or (pair (pair address nat) (pair (map string bytes) nat))
                                  (or (pair mutez address) address)))
                          (or (or (pair string bytes) (or (pair string (pair string bytes)) (pair string string)))
                              (or bool
                                  (or (list (pair address (list (pair address (pair nat nat)))))
                                      (list (or (pair address (pair address nat)) (pair address (pair address nat))))))))
                      (pair (pair (pair address nat)
                                  (pair (big_map address nat) (pair (big_map string bytes) (big_map string bytes))))
                            (pair (pair (big_map string string) (big_map (pair address (pair address nat)) unit))
                                  (pair bool (pair (big_map nat (pair nat (map string bytes))) (big_map nat nat))))))
                (pair (list operation)
                      (pair (pair (pair address nat)
                                  (pair (big_map address nat) (pair (big_map string bytes) (big_map string bytes))))
                            (pair (pair (big_map string string) (big_map (pair address (pair address nat)) unit))
                                  (pair bool (pair (big_map nat (pair nat (map string bytes))) (big_map nat nat))))))))) ;
  parameter
    (or (or (or (pair %balance_of
                   (list %requests (pair (address %owner) (nat %token_id)))
                   (contract %callback
                      (list (pair (pair %request (address %owner) (nat %token_id)) (nat %balance)))))
                (string %del_onchain_data))
            (or (pair %mint
                   (pair (address %address) (nat %amount))
                   (pair (map %metadata string bytes) (nat %token_id)))
                (or (pair %mutez_transfer (mutez %amount) (address %destination))
                    (address %set_administrator))))
        (or (or (pair %set_metadata (string %k) (bytes %v))
                (or (pair %set_onchain_data (string %k) (pair (string %typeString) (bytes %v)))
                    (pair %set_onchain_data_type (string %k) (string %typeString))))
            (or (bool %set_pause)
                (or (list %transfer
                       (pair (address %from_)
                             (list %txs (pair (address %to_) (pair (nat %token_id) (nat %amount))))))
                    (list %update_operators
                       (or (pair %add_operator (address %owner) (pair (address %operator) (nat %token_id)))
                           (pair %remove_operator (address %owner) (pair (address %operator) (nat %token_id))))))))) ;
  code { CAST (pair (or (or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) string)
                            (or (pair (pair address nat) (pair (map string bytes) nat))
                                (or (pair mutez address) address)))
                        (or (or (pair string bytes) (or (pair string (pair string bytes)) (pair string string)))
                            (or bool
                                (or (list (pair address (list (pair address (pair nat nat)))))
                                    (list (or (pair address (pair address nat)) (pair address (pair address nat))))))))
                    (pair (pair (pair (pair address nat)
                                      (pair (big_map address nat) (pair (big_map string bytes) (big_map string bytes))))
                                (pair (pair (big_map string string) (big_map (pair address (pair address nat)) unit))
                                      (pair bool (pair (big_map nat (pair nat (map string bytes))) (big_map nat nat)))))
                          (big_map
                             nat
                             (lambda
                                (pair (or (or (or (pair (list (pair address nat)) (contract (list (pair (pair address nat) nat)))) string)
                                              (or (pair (pair address nat) (pair (map string bytes) nat))
                                                  (or (pair mutez address) address)))
                                          (or (or (pair string bytes) (or (pair string (pair string bytes)) (pair string string)))
                                              (or bool
                                                  (or (list (pair address (list (pair address (pair nat nat)))))
                                                      (list (or (pair address (pair address nat)) (pair address (pair address nat))))))))
                                      (pair (pair (pair address nat)
                                                  (pair (big_map address nat) (pair (big_map string bytes) (big_map string bytes))))
                                            (pair (pair (big_map string string) (big_map (pair address (pair address nat)) unit))
                                                  (pair bool (pair (big_map nat (pair nat (map string bytes))) (big_map nat nat))))))
                                (pair (list operation)
                                      (pair (pair (pair address nat)
                                                  (pair (big_map address nat) (pair (big_map string bytes) (big_map string bytes))))
                                            (pair (pair (big_map string string) (big_map (pair address (pair address nat)) unit))
                                                  (pair bool (pair (big_map nat (pair nat (map string bytes))) (big_map nat nat)))))))))) ;
         UNPAIR 3 ;
         DUP ;
         IF_LEFT
           { IF_LEFT
               { IF_LEFT { DROP ; PUSH nat 0 } { DROP ; PUSH nat 1 } }
               { IF_LEFT
                   { DROP ; PUSH nat 2 }
                   { IF_LEFT { DROP ; PUSH nat 3 } { DROP ; PUSH nat 4 } } } }
           { IF_LEFT
               { IF_LEFT
                   { DROP ; PUSH nat 5 }
                   { IF_LEFT { DROP ; PUSH nat 6 } { DROP ; PUSH nat 7 } } }
               { IF_LEFT
                   { DROP ; PUSH nat 8 }
                   { IF_LEFT { DROP ; PUSH nat 9 } { DROP ; PUSH nat 10 } } } } ;
         DUP 4 ;
         SWAP ;
         GET ;
         IF_NONE { PUSH int -1 ; FAILWITH } {} ;
         DUG 2 ;
         PAIR ;
         EXEC ;
         UNPAIR ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         DUG 2 ;
         PAIR ;
         SWAP ;
         PAIR } }
