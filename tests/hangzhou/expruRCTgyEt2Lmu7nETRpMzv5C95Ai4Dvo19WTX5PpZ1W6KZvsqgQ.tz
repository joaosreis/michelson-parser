{ storage
    (pair (pair (pair (address %bunny) (address %burn))
                (pair (nat %chest_id) (map %debugCat int int)))
          (pair (pair (map %debugItem int int) (address %manager))
                (pair (address %objkt)
                      (pair (int %reward_amt) (map %rewards string (map string (map nat int))))))) ;
  parameter
    (or (or (unit %redeem) (or (address %update_bunny) (nat %update_chest_id)))
        (or (address %update_manager)
            (or (address %update_objkt) (map %update_rewards string (map string (map nat int)))))) ;
  code { LAMBDA
           int
           bytes
           { DROP ;
             UNIT ;
             PUSH mutez 0 ;
             NONE key_hash ;
             CREATE_CONTRACT
               { parameter unit ; storage unit ; code { CDR ; NIL operation ; PAIR } } ;
             DROP ;
             PACK ;
             PUSH nat 17 ;
             PUSH nat 11 ;
             SLICE ;
             IF_NONE { PUSH int 209 ; FAILWITH } {} } ;
         SWAP ;
         LAMBDA
           bytes
           nat
           { PUSH nat 0 ;
             PUSH nat 0 ;
             DUP 3 ;
             SHA256 ;
             SIZE ;
             DUP ;
             DUP 4 ;
             COMPARE ;
             LT ;
             LOOP { PUSH (map bytes nat)
                         { Elt 0x00 0 ;
                           Elt 0x01 1 ;
                           Elt 0x02 2 ;
                           Elt 0x03 3 ;
                           Elt 0x04 4 ;
                           Elt 0x05 5 ;
                           Elt 0x06 6 ;
                           Elt 0x07 7 ;
                           Elt 0x08 8 ;
                           Elt 0x09 9 ;
                           Elt 0x0a 10 ;
                           Elt 0x0b 11 ;
                           Elt 0x0c 12 ;
                           Elt 0x0d 13 ;
                           Elt 0x0e 14 ;
                           Elt 0x0f 15 ;
                           Elt 0x10 16 ;
                           Elt 0x11 17 ;
                           Elt 0x12 18 ;
                           Elt 0x13 19 ;
                           Elt 0x14 20 ;
                           Elt 0x15 21 ;
                           Elt 0x16 22 ;
                           Elt 0x17 23 ;
                           Elt 0x18 24 ;
                           Elt 0x19 25 ;
                           Elt 0x1a 26 ;
                           Elt 0x1b 27 ;
                           Elt 0x1c 28 ;
                           Elt 0x1d 29 ;
                           Elt 0x1e 30 ;
                           Elt 0x1f 31 ;
                           Elt 0x20 32 ;
                           Elt 0x21 33 ;
                           Elt 0x22 34 ;
                           Elt 0x23 35 ;
                           Elt 0x24 36 ;
                           Elt 0x25 37 ;
                           Elt 0x26 38 ;
                           Elt 0x27 39 ;
                           Elt 0x28 40 ;
                           Elt 0x29 41 ;
                           Elt 0x2a 42 ;
                           Elt 0x2b 43 ;
                           Elt 0x2c 44 ;
                           Elt 0x2d 45 ;
                           Elt 0x2e 46 ;
                           Elt 0x2f 47 ;
                           Elt 0x30 48 ;
                           Elt 0x31 49 ;
                           Elt 0x32 50 ;
                           Elt 0x33 51 ;
                           Elt 0x34 52 ;
                           Elt 0x35 53 ;
                           Elt 0x36 54 ;
                           Elt 0x37 55 ;
                           Elt 0x38 56 ;
                           Elt 0x39 57 ;
                           Elt 0x3a 58 ;
                           Elt 0x3b 59 ;
                           Elt 0x3c 60 ;
                           Elt 0x3d 61 ;
                           Elt 0x3e 62 ;
                           Elt 0x3f 63 ;
                           Elt 0x40 64 ;
                           Elt 0x41 65 ;
                           Elt 0x42 66 ;
                           Elt 0x43 67 ;
                           Elt 0x44 68 ;
                           Elt 0x45 69 ;
                           Elt 0x46 70 ;
                           Elt 0x47 71 ;
                           Elt 0x48 72 ;
                           Elt 0x49 73 ;
                           Elt 0x4a 74 ;
                           Elt 0x4b 75 ;
                           Elt 0x4c 76 ;
                           Elt 0x4d 77 ;
                           Elt 0x4e 78 ;
                           Elt 0x4f 79 ;
                           Elt 0x50 80 ;
                           Elt 0x51 81 ;
                           Elt 0x52 82 ;
                           Elt 0x53 83 ;
                           Elt 0x54 84 ;
                           Elt 0x55 85 ;
                           Elt 0x56 86 ;
                           Elt 0x57 87 ;
                           Elt 0x58 88 ;
                           Elt 0x59 89 ;
                           Elt 0x5a 90 ;
                           Elt 0x5b 91 ;
                           Elt 0x5c 92 ;
                           Elt 0x5d 93 ;
                           Elt 0x5e 94 ;
                           Elt 0x5f 95 ;
                           Elt 0x60 96 ;
                           Elt 0x61 97 ;
                           Elt 0x62 98 ;
                           Elt 0x63 99 ;
                           Elt 0x64 100 ;
                           Elt 0x65 101 ;
                           Elt 0x66 102 ;
                           Elt 0x67 103 ;
                           Elt 0x68 104 ;
                           Elt 0x69 105 ;
                           Elt 0x6a 106 ;
                           Elt 0x6b 107 ;
                           Elt 0x6c 108 ;
                           Elt 0x6d 109 ;
                           Elt 0x6e 110 ;
                           Elt 0x6f 111 ;
                           Elt 0x70 112 ;
                           Elt 0x71 113 ;
                           Elt 0x72 114 ;
                           Elt 0x73 115 ;
                           Elt 0x74 116 ;
                           Elt 0x75 117 ;
                           Elt 0x76 118 ;
                           Elt 0x77 119 ;
                           Elt 0x78 120 ;
                           Elt 0x79 121 ;
                           Elt 0x7a 122 ;
                           Elt 0x7b 123 ;
                           Elt 0x7c 124 ;
                           Elt 0x7d 125 ;
                           Elt 0x7e 126 ;
                           Elt 0x7f 127 ;
                           Elt 0x80 128 ;
                           Elt 0x81 129 ;
                           Elt 0x82 130 ;
                           Elt 0x83 131 ;
                           Elt 0x84 132 ;
                           Elt 0x85 133 ;
                           Elt 0x86 134 ;
                           Elt 0x87 135 ;
                           Elt 0x88 136 ;
                           Elt 0x89 137 ;
                           Elt 0x8a 138 ;
                           Elt 0x8b 139 ;
                           Elt 0x8c 140 ;
                           Elt 0x8d 141 ;
                           Elt 0x8e 142 ;
                           Elt 0x8f 143 ;
                           Elt 0x90 144 ;
                           Elt 0x91 145 ;
                           Elt 0x92 146 ;
                           Elt 0x93 147 ;
                           Elt 0x94 148 ;
                           Elt 0x95 149 ;
                           Elt 0x96 150 ;
                           Elt 0x97 151 ;
                           Elt 0x98 152 ;
                           Elt 0x99 153 ;
                           Elt 0x9a 154 ;
                           Elt 0x9b 155 ;
                           Elt 0x9c 156 ;
                           Elt 0x9d 157 ;
                           Elt 0x9e 158 ;
                           Elt 0x9f 159 ;
                           Elt 0xa0 160 ;
                           Elt 0xa1 161 ;
                           Elt 0xa2 162 ;
                           Elt 0xa3 163 ;
                           Elt 0xa4 164 ;
                           Elt 0xa5 165 ;
                           Elt 0xa6 166 ;
                           Elt 0xa7 167 ;
                           Elt 0xa8 168 ;
                           Elt 0xa9 169 ;
                           Elt 0xaa 170 ;
                           Elt 0xab 171 ;
                           Elt 0xac 172 ;
                           Elt 0xad 173 ;
                           Elt 0xae 174 ;
                           Elt 0xaf 175 ;
                           Elt 0xb0 176 ;
                           Elt 0xb1 177 ;
                           Elt 0xb2 178 ;
                           Elt 0xb3 179 ;
                           Elt 0xb4 180 ;
                           Elt 0xb5 181 ;
                           Elt 0xb6 182 ;
                           Elt 0xb7 183 ;
                           Elt 0xb8 184 ;
                           Elt 0xb9 185 ;
                           Elt 0xba 186 ;
                           Elt 0xbb 187 ;
                           Elt 0xbc 188 ;
                           Elt 0xbd 189 ;
                           Elt 0xbe 190 ;
                           Elt 0xbf 191 ;
                           Elt 0xc0 192 ;
                           Elt 0xc1 193 ;
                           Elt 0xc2 194 ;
                           Elt 0xc3 195 ;
                           Elt 0xc4 196 ;
                           Elt 0xc5 197 ;
                           Elt 0xc6 198 ;
                           Elt 0xc7 199 ;
                           Elt 0xc8 200 ;
                           Elt 0xc9 201 ;
                           Elt 0xca 202 ;
                           Elt 0xcb 203 ;
                           Elt 0xcc 204 ;
                           Elt 0xcd 205 ;
                           Elt 0xce 206 ;
                           Elt 0xcf 207 ;
                           Elt 0xd0 208 ;
                           Elt 0xd1 209 ;
                           Elt 0xd2 210 ;
                           Elt 0xd3 211 ;
                           Elt 0xd4 212 ;
                           Elt 0xd5 213 ;
                           Elt 0xd6 214 ;
                           Elt 0xd7 215 ;
                           Elt 0xd8 216 ;
                           Elt 0xd9 217 ;
                           Elt 0xda 218 ;
                           Elt 0xdb 219 ;
                           Elt 0xdc 220 ;
                           Elt 0xdd 221 ;
                           Elt 0xde 222 ;
                           Elt 0xdf 223 ;
                           Elt 0xe0 224 ;
                           Elt 0xe1 225 ;
                           Elt 0xe2 226 ;
                           Elt 0xe3 227 ;
                           Elt 0xe4 228 ;
                           Elt 0xe5 229 ;
                           Elt 0xe6 230 ;
                           Elt 0xe7 231 ;
                           Elt 0xe8 232 ;
                           Elt 0xe9 233 ;
                           Elt 0xea 234 ;
                           Elt 0xeb 235 ;
                           Elt 0xec 236 ;
                           Elt 0xed 237 ;
                           Elt 0xee 238 ;
                           Elt 0xef 239 ;
                           Elt 0xf0 240 ;
                           Elt 0xf1 241 ;
                           Elt 0xf2 242 ;
                           Elt 0xf3 243 ;
                           Elt 0xf4 244 ;
                           Elt 0xf5 245 ;
                           Elt 0xf6 246 ;
                           Elt 0xf7 247 ;
                           Elt 0xf8 248 ;
                           Elt 0xf9 249 ;
                           Elt 0xfa 250 ;
                           Elt 0xfb 251 ;
                           Elt 0xfc 252 ;
                           Elt 0xfd 253 ;
                           Elt 0xfe 254 ;
                           Elt 0xff 255 } ;
                    DUP 5 ;
                    SHA256 ;
                    PUSH nat 1 ;
                    DUP 6 ;
                    SLICE ;
                    IF_NONE { PUSH int 355 ; FAILWITH } {} ;
                    GET ;
                    IF_NONE { PUSH int 355 ; FAILWITH } {} ;
                    PUSH nat 256 ;
                    DIG 3 ;
                    MUL ;
                    ADD ;
                    SWAP ;
                    PUSH nat 1 ;
                    DIG 3 ;
                    ADD ;
                    DUG 2 ;
                    DUP ;
                    DUP 4 ;
                    COMPARE ;
                    LT } ;
             DROP ;
             SWAP ;
             DROP ;
             SWAP ;
             DROP } ;
         SWAP ;
         UNPAIR ;
         IF_LEFT
           { IF_LEFT
               { NIL operation ;
                 DUP 3 ;
                 GET 5 ;
                 CONTRACT %transfer (list (pair address (list (pair address (pair nat nat))))) ;
                 IF_NONE { PUSH int 201 ; FAILWITH } {} ;
                 PUSH mutez 0 ;
                 NIL (pair address (list (pair address (pair nat nat)))) ;
                 NIL (pair address (pair nat nat)) ;
                 PUSH nat 1 ;
                 DIG 7 ;
                 DUP ;
                 CAR ;
                 GET 3 ;
                 SWAP ;
                 DUP ;
                 DUG 9 ;
                 CAR ;
                 CAR ;
                 CDR ;
                 PAIR 3 ;
                 CONS ;
                 SENDER ;
                 PAIR ;
                 CONS ;
                 TRANSFER_TOKENS ;
                 CONS ;
                 PUSH int 0 ;
                 DUP 4 ;
                 GET 7 ;
                 PUSH int 0 ;
                 DUP ;
                 DUP 3 ;
                 COMPARE ;
                 GT ;
                 LOOP { DUP 8 ;
                        PUSH int 0 ;
                        EXEC ;
                        DUP 8 ;
                        SENDER ;
                        PACK ;
                        PUSH nat 19 ;
                        PUSH nat 9 ;
                        SLICE ;
                        IF_NONE { PUSH int 95 ; FAILWITH } {} ;
                        DUP 3 ;
                        CONCAT ;
                        EXEC ;
                        DUP ;
                        PUSH nat 100001 ;
                        SWAP ;
                        EDIV ;
                        IF_NONE { PUSH int 106 ; FAILWITH } { CDR } ;
                        INT ;
                        DIG 8 ;
                        UNPAIR ;
                        UNPAIR ;
                        SWAP ;
                        UNPAIR ;
                        SWAP ;
                        DUP 5 ;
                        SOME ;
                        DUP 9 ;
                        UPDATE ;
                        SWAP ;
                        PAIR ;
                        SWAP ;
                        PAIR ;
                        PAIR ;
                        DUG 8 ;
                        DUP 11 ;
                        PUSH int 0 ;
                        EXEC ;
                        DUP 11 ;
                        SWAP ;
                        DUP ;
                        DUG 2 ;
                        EXEC ;
                        PUSH int 0 ;
                        PUSH int 0 ;
                        DUP 13 ;
                        GET 8 ;
                        PUSH string "item_category1" ;
                        GET ;
                        IF_NONE { PUSH int 115 ; FAILWITH } {} ;
                        PUSH string "probability" ;
                        GET ;
                        IF_NONE { PUSH int 115 ; FAILWITH } {} ;
                        PUSH nat 0 ;
                        GET ;
                        IF_NONE { PUSH int 115 ; FAILWITH } {} ;
                        DUP ;
                        DUP 7 ;
                        COMPARE ;
                        LE ;
                        IF { SWAP ;
                             DROP ;
                             SWAP ;
                             DROP ;
                             DUP 12 ;
                             GET 8 ;
                             PUSH string "item_category1" ;
                             GET ;
                             IF_NONE { PUSH int 117 ; FAILWITH } {} ;
                             PUSH string "category" ;
                             GET ;
                             IF_NONE { PUSH int 117 ; FAILWITH } {} ;
                             PUSH nat 0 ;
                             GET ;
                             IF_NONE { PUSH int 117 ; FAILWITH } {} ;
                             SWAP ;
                             DUP 13 ;
                             GET 8 ;
                             PUSH string "item_category1" ;
                             GET ;
                             IF_NONE { PUSH int 118 ; FAILWITH } {} ;
                             PUSH string "ids" ;
                             GET ;
                             IF_NONE { PUSH int 118 ; FAILWITH } {} ;
                             SIZE ;
                             DUP 4 ;
                             EDIV ;
                             IF_NONE { PUSH int 118 ; FAILWITH } { CDR } ;
                             DUP 14 ;
                             GET 8 ;
                             PUSH string "item_category1" ;
                             GET ;
                             IF_NONE { PUSH int 119 ; FAILWITH } {} ;
                             PUSH string "ids" ;
                             GET ;
                             IF_NONE { PUSH int 119 ; FAILWITH } {} ;
                             SWAP ;
                             GET ;
                             IF_NONE { PUSH int 119 ; FAILWITH } {} ;
                             DUG 2 }
                           { DUP 14 ;
                             GET 8 ;
                             PUSH string "item_category2" ;
                             GET ;
                             IF_NONE { PUSH int 123 ; FAILWITH } {} ;
                             PUSH string "probability" ;
                             GET ;
                             IF_NONE { PUSH int 123 ; FAILWITH } {} ;
                             PUSH nat 0 ;
                             GET ;
                             IF_NONE { PUSH int 123 ; FAILWITH } {} ;
                             ADD ;
                             DUP ;
                             DUP 7 ;
                             COMPARE ;
                             LE ;
                             IF { SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DROP ;
                                  DUP 12 ;
                                  GET 8 ;
                                  PUSH string "item_category2" ;
                                  GET ;
                                  IF_NONE { PUSH int 125 ; FAILWITH } {} ;
                                  PUSH string "category" ;
                                  GET ;
                                  IF_NONE { PUSH int 125 ; FAILWITH } {} ;
                                  PUSH nat 0 ;
                                  GET ;
                                  IF_NONE { PUSH int 125 ; FAILWITH } {} ;
                                  SWAP ;
                                  DUP 13 ;
                                  GET 8 ;
                                  PUSH string "item_category2" ;
                                  GET ;
                                  IF_NONE { PUSH int 126 ; FAILWITH } {} ;
                                  PUSH string "ids" ;
                                  GET ;
                                  IF_NONE { PUSH int 126 ; FAILWITH } {} ;
                                  SIZE ;
                                  DUP 4 ;
                                  EDIV ;
                                  IF_NONE { PUSH int 126 ; FAILWITH } { CDR } ;
                                  DUP 14 ;
                                  GET 8 ;
                                  PUSH string "item_category2" ;
                                  GET ;
                                  IF_NONE { PUSH int 127 ; FAILWITH } {} ;
                                  PUSH string "ids" ;
                                  GET ;
                                  IF_NONE { PUSH int 127 ; FAILWITH } {} ;
                                  SWAP ;
                                  GET ;
                                  IF_NONE { PUSH int 127 ; FAILWITH } {} ;
                                  DUG 2 }
                                { DUP 14 ;
                                  GET 8 ;
                                  PUSH string "item_category3" ;
                                  GET ;
                                  IF_NONE { PUSH int 131 ; FAILWITH } {} ;
                                  PUSH string "probability" ;
                                  GET ;
                                  IF_NONE { PUSH int 131 ; FAILWITH } {} ;
                                  PUSH nat 0 ;
                                  GET ;
                                  IF_NONE { PUSH int 131 ; FAILWITH } {} ;
                                  ADD ;
                                  DUP ;
                                  DUP 7 ;
                                  COMPARE ;
                                  LE ;
                                  IF { SWAP ;
                                       DROP ;
                                       SWAP ;
                                       DROP ;
                                       DUP 12 ;
                                       GET 8 ;
                                       PUSH string "item_category3" ;
                                       GET ;
                                       IF_NONE { PUSH int 133 ; FAILWITH } {} ;
                                       PUSH string "category" ;
                                       GET ;
                                       IF_NONE { PUSH int 133 ; FAILWITH } {} ;
                                       PUSH nat 0 ;
                                       GET ;
                                       IF_NONE { PUSH int 133 ; FAILWITH } {} ;
                                       SWAP ;
                                       DUP 13 ;
                                       GET 8 ;
                                       PUSH string "item_category3" ;
                                       GET ;
                                       IF_NONE { PUSH int 134 ; FAILWITH } {} ;
                                       PUSH string "ids" ;
                                       GET ;
                                       IF_NONE { PUSH int 134 ; FAILWITH } {} ;
                                       SIZE ;
                                       DUP 4 ;
                                       EDIV ;
                                       IF_NONE { PUSH int 134 ; FAILWITH } { CDR } ;
                                       DUP 14 ;
                                       GET 8 ;
                                       PUSH string "item_category3" ;
                                       GET ;
                                       IF_NONE { PUSH int 135 ; FAILWITH } {} ;
                                       PUSH string "ids" ;
                                       GET ;
                                       IF_NONE { PUSH int 135 ; FAILWITH } {} ;
                                       SWAP ;
                                       GET ;
                                       IF_NONE { PUSH int 135 ; FAILWITH } {} ;
                                       DUG 2 }
                                     { DUP 14 ;
                                       GET 8 ;
                                       PUSH string "item_category4" ;
                                       GET ;
                                       IF_NONE { PUSH int 138 ; FAILWITH } {} ;
                                       PUSH string "probability" ;
                                       GET ;
                                       IF_NONE { PUSH int 138 ; FAILWITH } {} ;
                                       PUSH nat 0 ;
                                       GET ;
                                       IF_NONE { PUSH int 138 ; FAILWITH } {} ;
                                       ADD ;
                                       DUP ;
                                       DUP 7 ;
                                       COMPARE ;
                                       LE ;
                                       IF { SWAP ;
                                            DROP ;
                                            SWAP ;
                                            DROP ;
                                            DUP 12 ;
                                            GET 8 ;
                                            PUSH string "item_category4" ;
                                            GET ;
                                            IF_NONE { PUSH int 140 ; FAILWITH } {} ;
                                            PUSH string "category" ;
                                            GET ;
                                            IF_NONE { PUSH int 140 ; FAILWITH } {} ;
                                            PUSH nat 0 ;
                                            GET ;
                                            IF_NONE { PUSH int 140 ; FAILWITH } {} ;
                                            SWAP ;
                                            DUP 13 ;
                                            GET 8 ;
                                            PUSH string "item_category4" ;
                                            GET ;
                                            IF_NONE { PUSH int 141 ; FAILWITH } {} ;
                                            PUSH string "ids" ;
                                            GET ;
                                            IF_NONE { PUSH int 141 ; FAILWITH } {} ;
                                            SIZE ;
                                            DUP 4 ;
                                            EDIV ;
                                            IF_NONE { PUSH int 141 ; FAILWITH } { CDR } ;
                                            DUP 14 ;
                                            GET 8 ;
                                            PUSH string "item_category4" ;
                                            GET ;
                                            IF_NONE { PUSH int 142 ; FAILWITH } {} ;
                                            PUSH string "ids" ;
                                            GET ;
                                            IF_NONE { PUSH int 142 ; FAILWITH } {} ;
                                            SWAP ;
                                            GET ;
                                            IF_NONE { PUSH int 142 ; FAILWITH } {} ;
                                            DUG 2 }
                                          { DUP 14 ;
                                            GET 8 ;
                                            PUSH string "item_category5" ;
                                            GET ;
                                            IF_NONE { PUSH int 146 ; FAILWITH } {} ;
                                            PUSH string "probability" ;
                                            GET ;
                                            IF_NONE { PUSH int 146 ; FAILWITH } {} ;
                                            PUSH nat 0 ;
                                            GET ;
                                            IF_NONE { PUSH int 146 ; FAILWITH } {} ;
                                            ADD ;
                                            DUP ;
                                            DUP 7 ;
                                            COMPARE ;
                                            LE ;
                                            IF { SWAP ;
                                                 DROP ;
                                                 SWAP ;
                                                 DROP ;
                                                 DUP 12 ;
                                                 GET 8 ;
                                                 PUSH string "item_category5" ;
                                                 GET ;
                                                 IF_NONE { PUSH int 148 ; FAILWITH } {} ;
                                                 PUSH string "category" ;
                                                 GET ;
                                                 IF_NONE { PUSH int 148 ; FAILWITH } {} ;
                                                 PUSH nat 0 ;
                                                 GET ;
                                                 IF_NONE { PUSH int 148 ; FAILWITH } {} ;
                                                 SWAP ;
                                                 DUP 13 ;
                                                 GET 8 ;
                                                 PUSH string "item_category5" ;
                                                 GET ;
                                                 IF_NONE { PUSH int 149 ; FAILWITH } {} ;
                                                 PUSH string "ids" ;
                                                 GET ;
                                                 IF_NONE { PUSH int 149 ; FAILWITH } {} ;
                                                 SIZE ;
                                                 DUP 4 ;
                                                 EDIV ;
                                                 IF_NONE { PUSH int 149 ; FAILWITH } { CDR } ;
                                                 DUP 14 ;
                                                 GET 8 ;
                                                 PUSH string "item_category5" ;
                                                 GET ;
                                                 IF_NONE { PUSH int 150 ; FAILWITH } {} ;
                                                 PUSH string "ids" ;
                                                 GET ;
                                                 IF_NONE { PUSH int 150 ; FAILWITH } {} ;
                                                 SWAP ;
                                                 GET ;
                                                 IF_NONE { PUSH int 150 ; FAILWITH } {} ;
                                                 DUG 2 }
                                               { DUP 14 ;
                                                 GET 8 ;
                                                 PUSH string "item_category6" ;
                                                 GET ;
                                                 IF_NONE { PUSH int 154 ; FAILWITH } {} ;
                                                 PUSH string "probability" ;
                                                 GET ;
                                                 IF_NONE { PUSH int 154 ; FAILWITH } {} ;
                                                 PUSH nat 0 ;
                                                 GET ;
                                                 IF_NONE { PUSH int 154 ; FAILWITH } {} ;
                                                 ADD ;
                                                 DUP ;
                                                 DUP 7 ;
                                                 COMPARE ;
                                                 LE ;
                                                 IF { SWAP ;
                                                      DROP ;
                                                      SWAP ;
                                                      DROP ;
                                                      DUP 12 ;
                                                      GET 8 ;
                                                      PUSH string "item_category6" ;
                                                      GET ;
                                                      IF_NONE { PUSH int 156 ; FAILWITH } {} ;
                                                      PUSH string "category" ;
                                                      GET ;
                                                      IF_NONE { PUSH int 156 ; FAILWITH } {} ;
                                                      PUSH nat 0 ;
                                                      GET ;
                                                      IF_NONE { PUSH int 156 ; FAILWITH } {} ;
                                                      SWAP ;
                                                      DUP 13 ;
                                                      GET 8 ;
                                                      PUSH string "item_category6" ;
                                                      GET ;
                                                      IF_NONE { PUSH int 157 ; FAILWITH } {} ;
                                                      PUSH string "ids" ;
                                                      GET ;
                                                      IF_NONE { PUSH int 157 ; FAILWITH } {} ;
                                                      SIZE ;
                                                      DUP 4 ;
                                                      EDIV ;
                                                      IF_NONE { PUSH int 157 ; FAILWITH } { CDR } ;
                                                      DUP 14 ;
                                                      GET 8 ;
                                                      PUSH string "item_category6" ;
                                                      GET ;
                                                      IF_NONE { PUSH int 158 ; FAILWITH } {} ;
                                                      PUSH string "ids" ;
                                                      GET ;
                                                      IF_NONE { PUSH int 158 ; FAILWITH } {} ;
                                                      SWAP ;
                                                      GET ;
                                                      IF_NONE { PUSH int 158 ; FAILWITH } {} ;
                                                      DUG 2 }
                                                    { DUP 14 ;
                                                      GET 8 ;
                                                      PUSH string "item_category7" ;
                                                      GET ;
                                                      IF_NONE { PUSH int 162 ; FAILWITH } {} ;
                                                      PUSH string "probability" ;
                                                      GET ;
                                                      IF_NONE { PUSH int 162 ; FAILWITH } {} ;
                                                      PUSH nat 0 ;
                                                      GET ;
                                                      IF_NONE { PUSH int 162 ; FAILWITH } {} ;
                                                      ADD ;
                                                      DUP ;
                                                      DUP 7 ;
                                                      COMPARE ;
                                                      LE ;
                                                      IF { SWAP ;
                                                           DROP ;
                                                           SWAP ;
                                                           DROP ;
                                                           DUP 12 ;
                                                           GET 8 ;
                                                           PUSH string "item_category7" ;
                                                           GET ;
                                                           IF_NONE { PUSH int 164 ; FAILWITH } {} ;
                                                           PUSH string "category" ;
                                                           GET ;
                                                           IF_NONE { PUSH int 164 ; FAILWITH } {} ;
                                                           PUSH nat 0 ;
                                                           GET ;
                                                           IF_NONE { PUSH int 164 ; FAILWITH } {} ;
                                                           SWAP ;
                                                           DUP 13 ;
                                                           GET 8 ;
                                                           PUSH string "item_category7" ;
                                                           GET ;
                                                           IF_NONE { PUSH int 165 ; FAILWITH } {} ;
                                                           PUSH string "ids" ;
                                                           GET ;
                                                           IF_NONE { PUSH int 165 ; FAILWITH } {} ;
                                                           SIZE ;
                                                           DUP 4 ;
                                                           EDIV ;
                                                           IF_NONE { PUSH int 165 ; FAILWITH } { CDR } ;
                                                           DUP 14 ;
                                                           GET 8 ;
                                                           PUSH string "item_category7" ;
                                                           GET ;
                                                           IF_NONE { PUSH int 166 ; FAILWITH } {} ;
                                                           PUSH string "ids" ;
                                                           GET ;
                                                           IF_NONE { PUSH int 166 ; FAILWITH } {} ;
                                                           SWAP ;
                                                           GET ;
                                                           IF_NONE { PUSH int 166 ; FAILWITH } {} ;
                                                           DUG 2 }
                                                         { DUP 14 ;
                                                           GET 8 ;
                                                           PUSH string "item_category8" ;
                                                           GET ;
                                                           IF_NONE { PUSH int 170 ; FAILWITH } {} ;
                                                           PUSH string "probability" ;
                                                           GET ;
                                                           IF_NONE { PUSH int 170 ; FAILWITH } {} ;
                                                           PUSH nat 0 ;
                                                           GET ;
                                                           IF_NONE { PUSH int 170 ; FAILWITH } {} ;
                                                           ADD ;
                                                           DUP ;
                                                           DUP 7 ;
                                                           COMPARE ;
                                                           LE ;
                                                           IF { SWAP ;
                                                                DROP ;
                                                                SWAP ;
                                                                DROP ;
                                                                DUP 12 ;
                                                                GET 8 ;
                                                                PUSH string "item_category8" ;
                                                                GET ;
                                                                IF_NONE { PUSH int 172 ; FAILWITH } {} ;
                                                                PUSH string "category" ;
                                                                GET ;
                                                                IF_NONE { PUSH int 172 ; FAILWITH } {} ;
                                                                PUSH nat 0 ;
                                                                GET ;
                                                                IF_NONE { PUSH int 172 ; FAILWITH } {} ;
                                                                SWAP ;
                                                                DUP 13 ;
                                                                GET 8 ;
                                                                PUSH string "item_category8" ;
                                                                GET ;
                                                                IF_NONE { PUSH int 173 ; FAILWITH } {} ;
                                                                PUSH string "ids" ;
                                                                GET ;
                                                                IF_NONE { PUSH int 173 ; FAILWITH } {} ;
                                                                SIZE ;
                                                                DUP 4 ;
                                                                EDIV ;
                                                                IF_NONE { PUSH int 173 ; FAILWITH } { CDR } ;
                                                                DUP 14 ;
                                                                GET 8 ;
                                                                PUSH string "item_category8" ;
                                                                GET ;
                                                                IF_NONE { PUSH int 174 ; FAILWITH } {} ;
                                                                PUSH string "ids" ;
                                                                GET ;
                                                                IF_NONE { PUSH int 174 ; FAILWITH } {} ;
                                                                SWAP ;
                                                                GET ;
                                                                IF_NONE { PUSH int 174 ; FAILWITH } {} ;
                                                                DUG 2 }
                                                              { DUP 14 ;
                                                                GET 8 ;
                                                                PUSH string "item_category9" ;
                                                                GET ;
                                                                IF_NONE { PUSH int 178 ; FAILWITH } {} ;
                                                                PUSH string "probability" ;
                                                                GET ;
                                                                IF_NONE { PUSH int 178 ; FAILWITH } {} ;
                                                                PUSH nat 0 ;
                                                                GET ;
                                                                IF_NONE { PUSH int 178 ; FAILWITH } {} ;
                                                                ADD ;
                                                                DUP ;
                                                                DUP 7 ;
                                                                COMPARE ;
                                                                LE ;
                                                                IF { SWAP ;
                                                                     DROP ;
                                                                     SWAP ;
                                                                     DROP ;
                                                                     DUP 12 ;
                                                                     GET 8 ;
                                                                     PUSH string "item_category9" ;
                                                                     GET ;
                                                                     IF_NONE { PUSH int 180 ; FAILWITH } {} ;
                                                                     PUSH string "category" ;
                                                                     GET ;
                                                                     IF_NONE { PUSH int 180 ; FAILWITH } {} ;
                                                                     PUSH nat 0 ;
                                                                     GET ;
                                                                     IF_NONE { PUSH int 180 ; FAILWITH } {} ;
                                                                     SWAP ;
                                                                     DUP 13 ;
                                                                     GET 8 ;
                                                                     PUSH string "item_category9" ;
                                                                     GET ;
                                                                     IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                                                                     PUSH string "ids" ;
                                                                     GET ;
                                                                     IF_NONE { PUSH int 181 ; FAILWITH } {} ;
                                                                     SIZE ;
                                                                     DUP 4 ;
                                                                     EDIV ;
                                                                     IF_NONE { PUSH int 181 ; FAILWITH } { CDR } ;
                                                                     DUP 14 ;
                                                                     GET 8 ;
                                                                     PUSH string "item_category9" ;
                                                                     GET ;
                                                                     IF_NONE { PUSH int 182 ; FAILWITH } {} ;
                                                                     PUSH string "ids" ;
                                                                     GET ;
                                                                     IF_NONE { PUSH int 182 ; FAILWITH } {} ;
                                                                     SWAP ;
                                                                     GET ;
                                                                     IF_NONE { PUSH int 182 ; FAILWITH } {} ;
                                                                     DUG 2 }
                                                                   {} } } } } } } } } ;
                        SWAP ;
                        DUP ;
                        DUG 2 ;
                        DUP 12 ;
                        COMPARE ;
                        LT ;
                        IF { DIG 10 ; DROP ; SWAP ; DUP ; DUG 2 ; DUG 10 } {} ;
                        PUSH int 2 ;
                        DUP 10 ;
                        COMPARE ;
                        EQ ;
                        IF { PUSH int 1 ;
                             DUP 12 ;
                             COMPARE ;
                             EQ ;
                             IF { DIG 2 ;
                                  DROP 3 ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DROP ;
                                  DUP 7 ;
                                  GET 8 ;
                                  PUSH string "item_category4" ;
                                  GET ;
                                  IF_NONE { PUSH int 190 ; FAILWITH } {} ;
                                  PUSH string "ids" ;
                                  GET ;
                                  IF_NONE { PUSH int 190 ; FAILWITH } {} ;
                                  SIZE ;
                                  SWAP ;
                                  EDIV ;
                                  IF_NONE { PUSH int 190 ; FAILWITH } { CDR } ;
                                  DUP 7 ;
                                  GET 8 ;
                                  PUSH string "item_category4" ;
                                  GET ;
                                  IF_NONE { PUSH int 191 ; FAILWITH } {} ;
                                  PUSH string "ids" ;
                                  GET ;
                                  IF_NONE { PUSH int 191 ; FAILWITH } {} ;
                                  SWAP ;
                                  GET ;
                                  IF_NONE { PUSH int 191 ; FAILWITH } {} }
                                { DROP 2 ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DROP } }
                           { DROP 2 ;
                             SWAP ;
                             DROP ;
                             SWAP ;
                             DROP ;
                             SWAP ;
                             DROP ;
                             SWAP ;
                             DROP ;
                             SWAP ;
                             DROP } ;
                        DIG 6 ;
                        UNPAIR ;
                        SWAP ;
                        UNPAIR ;
                        UNPAIR ;
                        DUP 5 ;
                        SOME ;
                        DUP 7 ;
                        UPDATE ;
                        PAIR ;
                        PAIR ;
                        SWAP ;
                        PAIR ;
                        DUG 6 ;
                        DIG 4 ;
                        DUP 7 ;
                        GET 5 ;
                        CONTRACT %transfer (list (pair address (list (pair address (pair nat nat))))) ;
                        IF_NONE { PUSH int 201 ; FAILWITH } {} ;
                        PUSH mutez 0 ;
                        NIL (pair address (list (pair address (pair nat nat)))) ;
                        NIL (pair address (pair nat nat)) ;
                        PUSH nat 1 ;
                        DIG 6 ;
                        ABS ;
                        SENDER ;
                        PAIR 3 ;
                        CONS ;
                        DUP 10 ;
                        CAR ;
                        CAR ;
                        CAR ;
                        PAIR ;
                        CONS ;
                        TRANSFER_TOKENS ;
                        CONS ;
                        DUG 3 ;
                        PUSH int 1 ;
                        ADD ;
                        DUP ;
                        DUP 3 ;
                        COMPARE ;
                        GT } ;
                 DROP 3 ;
                 SWAP ;
                 DROP ;
                 DIG 2 ;
                 DROP ;
                 DIG 2 ;
                 DROP }
               { DIG 2 ;
                 DROP ;
                 DIG 2 ;
                 DROP ;
                 IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     GET 3 ;
                     CDR ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.manager" ; FAILWITH } ;
                     SWAP ;
                     UNPAIR ;
                     UNPAIR ;
                     CDR ;
                     DIG 3 ;
                     PAIR ;
                     PAIR ;
                     PAIR }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     GET 3 ;
                     CDR ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.manager" ; FAILWITH } ;
                     SWAP ;
                     UNPAIR ;
                     UNPAIR ;
                     SWAP ;
                     CDR ;
                     DIG 3 ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR } ;
                 NIL operation } }
           { DIG 2 ;
             DROP ;
             DIG 2 ;
             DROP ;
             IF_LEFT
               { SWAP ;
                 DUP ;
                 DUG 2 ;
                 GET 3 ;
                 CDR ;
                 SENDER ;
                 COMPARE ;
                 EQ ;
                 IF {}
                    { PUSH string "WrongCondition: sp.sender == self.data.manager" ; FAILWITH } ;
                 SWAP ;
                 UNPAIR ;
                 SWAP ;
                 UNPAIR ;
                 CAR ;
                 DIG 3 ;
                 SWAP ;
                 PAIR ;
                 PAIR ;
                 SWAP ;
                 PAIR }
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     GET 3 ;
                     CDR ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.manager" ; FAILWITH } ;
                     UPDATE 5 }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     GET 3 ;
                     CDR ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.manager" ; FAILWITH } ;
                     UPDATE 8 } } ;
             NIL operation } ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         PAIR } }
