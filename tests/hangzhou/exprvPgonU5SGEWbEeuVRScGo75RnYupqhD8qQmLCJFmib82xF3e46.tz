{ parameter
    (or (or (address %changeAdmin) (or (unit %default) (unit %setPause)))
        (or (or (address %setQAddress) (nat %stake)) (or (nat %unstake) (unit %withdrawProfit)))) ;
  storage
    (pair (pair (pair (address %admin) (timestamp %lastUpdateTime))
                (pair (big_map %ledger
                         address
                         (pair (nat %balanceLiq) (pair (nat %rewardChange) (nat %rewardDebtLiq))))
                      (pair (bool %pause) (address %qAddress))))
          (pair (pair (nat %rewardPerSec) (pair (nat %rewardPerToken) (nat %rewardUsed)))
                (pair (nat %rewardsCap) (pair (address %tokenAddress) (nat %totalStaked))))) ;
  code { UNPAIR ;
         IF_LEFT
           { IF_LEFT
               { SWAP ;
                 DUP ;
                 DUG 2 ;
                 CAR ;
                 CAR ;
                 CAR ;
                 SENDER ;
                 COMPARE ;
                 EQ ;
                 IF {} { PUSH string "NotAdmin" ; FAILWITH } ;
                 SWAP ;
                 UNPAIR ;
                 UNPAIR ;
                 CDR ;
                 DIG 3 ;
                 PAIR ;
                 PAIR ;
                 PAIR ;
                 NIL operation }
               { IF_LEFT
                   { DROP ;
                     DUP ;
                     CAR ;
                     GET 6 ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF { PUSH nat 100 ;
                          AMOUNT ;
                          PUSH nat 3 ;
                          MUL ;
                          EDIV ;
                          { IF_NONE { PUSH int 164 ; FAILWITH } {} } ;
                          CAR ;
                          DUP ;
                          AMOUNT ;
                          SUB ;
                          NIL operation ;
                          DUP 4 ;
                          GET 7 ;
                          CONTRACT unit ;
                          { IF_NONE { PUSH int 167 ; FAILWITH } {} } ;
                          DIG 2 ;
                          UNIT ;
                          TRANSFER_TOKENS ;
                          CONS ;
                          SOURCE ;
                          CONTRACT unit ;
                          { IF_NONE { PUSH int 168 ; FAILWITH } {} } ;
                          DIG 2 ;
                          UNIT ;
                          TRANSFER_TOKENS ;
                          CONS }
                        { DUP ;
                          GET 7 ;
                          CONTRACT unit ;
                          { IF_NONE { PUSH int 171 ; FAILWITH } {} } ;
                          NIL operation ;
                          SWAP ;
                          AMOUNT ;
                          UNIT ;
                          TRANSFER_TOKENS ;
                          CONS } }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     CAR ;
                     CAR ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {} { PUSH string "NotAdmin" ; FAILWITH } ;
                     PUSH bool False ;
                     DUP 3 ;
                     CAR ;
                     GET 5 ;
                     COMPARE ;
                     EQ ;
                     IF { PUSH nat 0 ;
                          DUP 3 ;
                          GET 8 ;
                          COMPARE ;
                          EQ ;
                          IF { DROP ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               UNPAIR ;
                               SWAP ;
                               CDR ;
                               PUSH nat 0 ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               PAIR ;
                               SWAP ;
                               PAIR }
                             { SWAP ;
                               DUP ;
                               GET 3 ;
                               CAR ;
                               SWAP ;
                               DUP ;
                               DUG 3 ;
                               CAR ;
                               CAR ;
                               CDR ;
                               NOW ;
                               SUB ;
                               ISNAT ;
                               { IF_NONE { PUSH int 40 ; FAILWITH } {} } ;
                               MUL ;
                               PUSH nat 1000000000000000 ;
                               DIG 3 ;
                               DUP ;
                               GET 3 ;
                               GET 4 ;
                               SWAP ;
                               DUP ;
                               DUG 5 ;
                               GET 5 ;
                               SUB ;
                               ISNAT ;
                               { IF_NONE { PUSH int 41 ; FAILWITH } {} } ;
                               MUL ;
                               DUP ;
                               PUSH nat 0 ;
                               COMPARE ;
                               LT ;
                               IF { SWAP ;
                                    DUP ;
                                    DUG 2 ;
                                    SWAP ;
                                    DUP ;
                                    DUG 2 ;
                                    COMPARE ;
                                    GT ;
                                    IF { DROP ;
                                         SWAP ;
                                         DROP ;
                                         SWAP ;
                                         DUP ;
                                         DUG 2 ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         DIG 6 ;
                                         GET 8 ;
                                         DIG 6 ;
                                         EDIV ;
                                         { IF_NONE { PUSH int 45 ; FAILWITH } { CAR } } ;
                                         ADD ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR }
                                       { SWAP ;
                                         DROP ;
                                         SWAP ;
                                         DROP ;
                                         SWAP ;
                                         DUP ;
                                         DUG 2 ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         DIG 6 ;
                                         GET 8 ;
                                         DIG 6 ;
                                         EDIV ;
                                         { IF_NONE { PUSH int 47 ; FAILWITH } { CAR } } ;
                                         ADD ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR } }
                                  { DROP 3 } } ;
                          UNPAIR ;
                          UNPAIR ;
                          CAR ;
                          NOW ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          PAIR }
                        { DROP } ;
                     UNPAIR ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     SWAP ;
                     CDR ;
                     PUSH bool True ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     NIL operation ;
                     SELF %withdrawProfit ;
                     PUSH mutez 0 ;
                     UNIT ;
                     TRANSFER_TOKENS ;
                     CONS } } }
           { IF_LEFT
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     CAR ;
                     CAR ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {} { PUSH string "NotAdmin" ; FAILWITH } ;
                     SWAP ;
                     UNPAIR ;
                     UNPAIR ;
                     SWAP ;
                     UNPAIR ;
                     SWAP ;
                     CAR ;
                     DIG 4 ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     NIL operation }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     GET 3 ;
                     SENDER ;
                     MEM ;
                     IF {}
                        { SWAP ;
                          UNPAIR ;
                          UNPAIR ;
                          SWAP ;
                          UNPAIR ;
                          PUSH nat 0 ;
                          DUP ;
                          DUP ;
                          PAIR 3 ;
                          SOME ;
                          SENDER ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          SWAP } ;
                     PUSH bool False ;
                     DUP 3 ;
                     CAR ;
                     GET 5 ;
                     COMPARE ;
                     EQ ;
                     IF { PUSH nat 0 ;
                          DUP 3 ;
                          GET 8 ;
                          COMPARE ;
                          EQ ;
                          IF { SWAP ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               UNPAIR ;
                               SWAP ;
                               CDR ;
                               PUSH nat 0 ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               SWAP }
                             { SWAP ;
                               DUP ;
                               GET 3 ;
                               CAR ;
                               SWAP ;
                               DUP ;
                               DUG 3 ;
                               CAR ;
                               CAR ;
                               CDR ;
                               NOW ;
                               SUB ;
                               ISNAT ;
                               { IF_NONE { PUSH int 40 ; FAILWITH } {} } ;
                               MUL ;
                               PUSH nat 1000000000000000 ;
                               DIG 3 ;
                               DUP ;
                               GET 3 ;
                               GET 4 ;
                               SWAP ;
                               DUP ;
                               DUG 5 ;
                               GET 5 ;
                               SUB ;
                               ISNAT ;
                               { IF_NONE { PUSH int 41 ; FAILWITH } {} } ;
                               MUL ;
                               DUP ;
                               PUSH nat 0 ;
                               COMPARE ;
                               LT ;
                               IF { SWAP ;
                                    DUP ;
                                    DUG 2 ;
                                    SWAP ;
                                    DUP ;
                                    DUG 2 ;
                                    COMPARE ;
                                    GT ;
                                    IF { DROP ;
                                         DUP 3 ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         DIG 7 ;
                                         GET 8 ;
                                         DIG 6 ;
                                         EDIV ;
                                         { IF_NONE { PUSH int 45 ; FAILWITH } { CAR } } ;
                                         ADD ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         SWAP }
                                       { SWAP ;
                                         DROP ;
                                         DUP 3 ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         DIG 7 ;
                                         GET 8 ;
                                         DIG 6 ;
                                         EDIV ;
                                         { IF_NONE { PUSH int 47 ; FAILWITH } { CAR } } ;
                                         ADD ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         SWAP } }
                                  { DROP 2 } } ;
                          SWAP ;
                          UNPAIR ;
                          UNPAIR ;
                          CAR ;
                          NOW ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          PAIR ;
                          SWAP }
                        {} ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     GET 3 ;
                     SENDER ;
                     GET ;
                     { IF_NONE { PUSH int 51 ; FAILWITH } {} } ;
                     DUP 3 ;
                     GET 3 ;
                     GET 4 ;
                     DUP 4 ;
                     CAR ;
                     GET 3 ;
                     SENDER ;
                     GET ;
                     { IF_NONE { PUSH int 53 ; FAILWITH } {} } ;
                     GET 3 ;
                     PUSH nat 0 ;
                     DUP 4 ;
                     CAR ;
                     COMPARE ;
                     GT ;
                     IF { DUP 3 ;
                          CAR ;
                          DUP 6 ;
                          GET 3 ;
                          GET 3 ;
                          MUL ;
                          ADD ;
                          DUP 3 ;
                          GET 4 ;
                          SWAP ;
                          SUB ;
                          ISNAT ;
                          { IF_NONE { PUSH int 57 ; FAILWITH } {} } ;
                          DUP ;
                          PUSH nat 1000000000000000 ;
                          SWAP ;
                          EDIV ;
                          { IF_NONE { PUSH int 58 ; FAILWITH } { CAR } } ;
                          DUP 6 ;
                          GET 5 ;
                          DUP 4 ;
                          DUP 3 ;
                          ADD ;
                          COMPARE ;
                          GT ;
                          IF { DROP ;
                               SWAP ;
                               DUP 5 ;
                               GET 5 ;
                               SUB ;
                               ISNAT ;
                               { IF_NONE { PUSH int 61 ; FAILWITH } {} } }
                             { DIG 2 ; DROP } ;
                          DUP ;
                          PUSH nat 0 ;
                          COMPARE ;
                          LT ;
                          IF { NIL operation ;
                               DUP 6 ;
                               GET 7 ;
                               CONTRACT %mint (pair address nat) ;
                               { IF_NONE { PUSH int 64 ; FAILWITH } {} } ;
                               PUSH mutez 0 ;
                               DUP 4 ;
                               SENDER ;
                               PAIR ;
                               TRANSFER_TOKENS ;
                               CONS ;
                               DIG 5 ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               SWAP ;
                               DUP 7 ;
                               ADD ;
                               SWAP ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               DUG 5 }
                             { NIL operation } ;
                          DIG 5 ;
                          UNPAIR ;
                          UNPAIR ;
                          SWAP ;
                          UNPAIR ;
                          DUP ;
                          SENDER ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH int 78 ; FAILWITH } {} } ;
                          PUSH nat 1000000000000000 ;
                          DIG 8 ;
                          MUL ;
                          DIG 8 ;
                          SUB ;
                          ISNAT ;
                          { IF_NONE { PUSH int 78 ; FAILWITH } {} } ;
                          UPDATE 3 ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          DUG 3 ;
                          SWAP ;
                          DUP ;
                          CAR ;
                          DUP 5 ;
                          GET 3 ;
                          GET 3 ;
                          MUL ;
                          UPDATE 4 ;
                          SWAP ;
                          DIG 3 ;
                          UNPAIR ;
                          UNPAIR ;
                          SWAP ;
                          UNPAIR ;
                          DIG 5 ;
                          SOME ;
                          SENDER ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          DUG 2 }
                        { DROP 3 ; NIL operation } ;
                     PUSH bool False ;
                     DUP 4 ;
                     CAR ;
                     GET 5 ;
                     COMPARE ;
                     EQ ;
                     IF { PUSH nat 0 ;
                          DUP 3 ;
                          COMPARE ;
                          GT ;
                          IF { DUP 3 ;
                               CAR ;
                               GET 6 ;
                               CONTRACT %transfer (pair address (pair address nat)) ;
                               { IF_NONE { PUSH int 95 ; FAILWITH } {} } ;
                               PUSH mutez 0 ;
                               DUP 4 ;
                               SELF_ADDRESS ;
                               SENDER ;
                               PAIR 3 ;
                               TRANSFER_TOKENS ;
                               CONS ;
                               DIG 2 ;
                               UNPAIR ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               DUP ;
                               SENDER ;
                               DUP ;
                               DUG 2 ;
                               GET ;
                               { IF_NONE { PUSH int 109 ; FAILWITH } {} } ;
                               DUP ;
                               CAR ;
                               DUP 9 ;
                               ADD ;
                               UPDATE 1 ;
                               SOME ;
                               SWAP ;
                               UPDATE ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               PAIR ;
                               DUP ;
                               DUG 3 ;
                               UNPAIR ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               DUP ;
                               SENDER ;
                               DUP ;
                               DUG 2 ;
                               GET ;
                               { IF_NONE { PUSH int 110 ; FAILWITH } {} } ;
                               DUP 9 ;
                               CAR ;
                               GET 3 ;
                               SENDER ;
                               GET ;
                               { IF_NONE { PUSH int 110 ; FAILWITH } {} } ;
                               CAR ;
                               DIG 9 ;
                               GET 3 ;
                               GET 3 ;
                               MUL ;
                               UPDATE 4 ;
                               SOME ;
                               SWAP ;
                               UPDATE ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               PAIR ;
                               DUP ;
                               GET 8 ;
                               DIG 3 ;
                               ADD ;
                               UPDATE 8 ;
                               SWAP }
                             { SWAP ; DROP } }
                        { SWAP ; DROP } } }
               { IF_LEFT
                   { PUSH bool False ;
                     DUP 3 ;
                     CAR ;
                     GET 5 ;
                     COMPARE ;
                     EQ ;
                     IF { PUSH nat 0 ;
                          DUP 3 ;
                          GET 8 ;
                          COMPARE ;
                          EQ ;
                          IF { SWAP ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               UNPAIR ;
                               SWAP ;
                               CDR ;
                               PUSH nat 0 ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               SWAP }
                             { SWAP ;
                               DUP ;
                               GET 3 ;
                               CAR ;
                               SWAP ;
                               DUP ;
                               DUG 3 ;
                               CAR ;
                               CAR ;
                               CDR ;
                               NOW ;
                               SUB ;
                               ISNAT ;
                               { IF_NONE { PUSH int 40 ; FAILWITH } {} } ;
                               MUL ;
                               PUSH nat 1000000000000000 ;
                               DIG 3 ;
                               DUP ;
                               GET 3 ;
                               GET 4 ;
                               SWAP ;
                               DUP ;
                               DUG 5 ;
                               GET 5 ;
                               SUB ;
                               ISNAT ;
                               { IF_NONE { PUSH int 41 ; FAILWITH } {} } ;
                               MUL ;
                               DUP ;
                               PUSH nat 0 ;
                               COMPARE ;
                               LT ;
                               IF { SWAP ;
                                    DUP ;
                                    DUG 2 ;
                                    SWAP ;
                                    DUP ;
                                    DUG 2 ;
                                    COMPARE ;
                                    GT ;
                                    IF { DROP ;
                                         DUP 3 ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         DIG 7 ;
                                         GET 8 ;
                                         DIG 6 ;
                                         EDIV ;
                                         { IF_NONE { PUSH int 45 ; FAILWITH } { CAR } } ;
                                         ADD ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         SWAP }
                                       { SWAP ;
                                         DROP ;
                                         DUP 3 ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         UNPAIR ;
                                         SWAP ;
                                         UNPAIR ;
                                         DIG 7 ;
                                         GET 8 ;
                                         DIG 6 ;
                                         EDIV ;
                                         { IF_NONE { PUSH int 47 ; FAILWITH } { CAR } } ;
                                         ADD ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         SWAP } }
                                  { DROP 2 } } ;
                          SWAP ;
                          UNPAIR ;
                          UNPAIR ;
                          CAR ;
                          NOW ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          PAIR ;
                          SWAP }
                        {} ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     GET 3 ;
                     SENDER ;
                     GET ;
                     { IF_NONE { PUSH int 51 ; FAILWITH } {} } ;
                     DUP 3 ;
                     GET 3 ;
                     GET 4 ;
                     DUP 4 ;
                     CAR ;
                     GET 3 ;
                     SENDER ;
                     GET ;
                     { IF_NONE { PUSH int 53 ; FAILWITH } {} } ;
                     GET 3 ;
                     PUSH nat 0 ;
                     DUP 4 ;
                     CAR ;
                     COMPARE ;
                     GT ;
                     IF { DUP 3 ;
                          CAR ;
                          DUP 6 ;
                          GET 3 ;
                          GET 3 ;
                          MUL ;
                          ADD ;
                          DUP 3 ;
                          GET 4 ;
                          SWAP ;
                          SUB ;
                          ISNAT ;
                          { IF_NONE { PUSH int 57 ; FAILWITH } {} } ;
                          DUP ;
                          PUSH nat 1000000000000000 ;
                          SWAP ;
                          EDIV ;
                          { IF_NONE { PUSH int 58 ; FAILWITH } { CAR } } ;
                          DUP 6 ;
                          GET 5 ;
                          DUP 4 ;
                          DUP 3 ;
                          ADD ;
                          COMPARE ;
                          GT ;
                          IF { DROP ;
                               SWAP ;
                               DUP 5 ;
                               GET 5 ;
                               SUB ;
                               ISNAT ;
                               { IF_NONE { PUSH int 61 ; FAILWITH } {} } }
                             { DIG 2 ; DROP } ;
                          DUP ;
                          PUSH nat 0 ;
                          COMPARE ;
                          LT ;
                          IF { NIL operation ;
                               DUP 6 ;
                               GET 7 ;
                               CONTRACT %mint (pair address nat) ;
                               { IF_NONE { PUSH int 64 ; FAILWITH } {} } ;
                               PUSH mutez 0 ;
                               DUP 4 ;
                               SENDER ;
                               PAIR ;
                               TRANSFER_TOKENS ;
                               CONS ;
                               DIG 5 ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               UNPAIR ;
                               SWAP ;
                               UNPAIR ;
                               SWAP ;
                               DUP 7 ;
                               ADD ;
                               SWAP ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               PAIR ;
                               SWAP ;
                               PAIR ;
                               DUG 5 }
                             { NIL operation } ;
                          DIG 5 ;
                          UNPAIR ;
                          UNPAIR ;
                          SWAP ;
                          UNPAIR ;
                          DUP ;
                          SENDER ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH int 78 ; FAILWITH } {} } ;
                          PUSH nat 1000000000000000 ;
                          DIG 8 ;
                          MUL ;
                          DIG 8 ;
                          SUB ;
                          ISNAT ;
                          { IF_NONE { PUSH int 78 ; FAILWITH } {} } ;
                          UPDATE 3 ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          DUG 3 ;
                          SWAP ;
                          DUP ;
                          CAR ;
                          DUP 5 ;
                          GET 3 ;
                          GET 3 ;
                          MUL ;
                          UPDATE 4 ;
                          SWAP ;
                          DIG 3 ;
                          UNPAIR ;
                          UNPAIR ;
                          SWAP ;
                          UNPAIR ;
                          DIG 5 ;
                          SOME ;
                          SENDER ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          DUG 2 }
                        { DROP 3 ; NIL operation } ;
                     PUSH nat 0 ;
                     DUP 3 ;
                     COMPARE ;
                     GT ;
                     IF { SWAP ;
                          DUP ;
                          DUG 2 ;
                          DUP 4 ;
                          CAR ;
                          GET 3 ;
                          SENDER ;
                          GET ;
                          { IF_NONE { PUSH int 121 ; FAILWITH } {} } ;
                          CAR ;
                          COMPARE ;
                          GE ;
                          IF {} { PUSH string "Wrong value" ; FAILWITH } ;
                          DUP 3 ;
                          CAR ;
                          GET 6 ;
                          CONTRACT %transfer (pair address (pair address nat)) ;
                          { IF_NONE { PUSH int 123 ; FAILWITH } {} } ;
                          PUSH mutez 0 ;
                          DUP 4 ;
                          SENDER ;
                          SELF_ADDRESS ;
                          PAIR 3 ;
                          TRANSFER_TOKENS ;
                          CONS ;
                          DUP 3 ;
                          UNPAIR ;
                          UNPAIR ;
                          SWAP ;
                          UNPAIR ;
                          DUP ;
                          SENDER ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH int 137 ; FAILWITH } {} } ;
                          DUP 8 ;
                          DIG 9 ;
                          CAR ;
                          GET 3 ;
                          SENDER ;
                          GET ;
                          { IF_NONE { PUSH int 137 ; FAILWITH } {} } ;
                          CAR ;
                          SUB ;
                          ISNAT ;
                          { IF_NONE { PUSH int 137 ; FAILWITH } {} } ;
                          UPDATE 1 ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          DUP ;
                          DUG 3 ;
                          UNPAIR ;
                          UNPAIR ;
                          SWAP ;
                          UNPAIR ;
                          DUP ;
                          SENDER ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH int 138 ; FAILWITH } {} } ;
                          DUP 9 ;
                          CAR ;
                          GET 3 ;
                          SENDER ;
                          GET ;
                          { IF_NONE { PUSH int 138 ; FAILWITH } {} } ;
                          CAR ;
                          DIG 9 ;
                          GET 3 ;
                          GET 3 ;
                          MUL ;
                          UPDATE 4 ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          DUP ;
                          DUG 3 ;
                          DIG 2 ;
                          DIG 3 ;
                          GET 8 ;
                          SUB ;
                          ISNAT ;
                          { IF_NONE { PUSH int 139 ; FAILWITH } {} } ;
                          UPDATE 8 ;
                          SWAP }
                        { SWAP ; DROP } }
                   { DROP ;
                     DUP ;
                     CAR ;
                     GET 6 ;
                     CONTRACT %withdrawProfit address ;
                     { IF_NONE { PUSH string "WrongInterface" ; FAILWITH } {} } ;
                     NIL operation ;
                     SWAP ;
                     PUSH mutez 0 ;
                     SELF_ADDRESS ;
                     TRANSFER_TOKENS ;
                     CONS } } } ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         PAIR } }
